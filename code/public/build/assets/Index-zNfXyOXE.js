import{e as x,c as b,o as s,w as u,a,h as r,t as o,i as n,b as l,u as i,l as _,d as m,F as y,j as g,n as k,p,q as w}from"./app-CapNgXf-.js";import{_ as $}from"./Layout-BAHf2dOa.js";import{P as V}from"./PrettyLink-C13tRubX.js";import{_ as C}from"./Avatar-BYmVGbiJ.js";import{_ as D}from"./Pagination-Bti8hVNu.js";import{D as j}from"./Dropdown-C6O7kLlt.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-jKXsEGte.js";const B={class:"relative sm:mt-24"},F={class:"mx-auto max-w-6xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},I={class:"special-grid grid grid-cols-1 gap-6 sm:grid-cols-3"},L={class:"mb-8"},O={class:"mb-3 border-b border-gray-200 dark:border-gray-700"},q={key:0},A={class:"mb-1"},P={key:0},S={key:1},z={key:0},E={class:"text-sm text-gray-500"},T={key:1},U={class:"text-sm text-gray-500"},G={key:1,class:"text-sm text-gray-500"},H={class:"p-3 sm:px-3 sm:py-0"},J={class:"mb-3 flex items-center justify-between"},K={class:"flex items-center"},M={class:"contact-list mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Q={__name:"Index",props:{layoutData:Object,data:Object,paginator:Object},setup(e){const f=e,h=x({sort_order:f.data.user_contact_sort_order}),v=()=>{axios.put(f.data.url.sort.update,h).then(d=>{localStorage.success=p("Changes saved"),w.visit(d.data.data)})};return(d,c)=>(s(),b($,{title:d.$t("Contacts"),"layout-data":e.layoutData,"inside-vault":!0},{default:u(()=>[a("main",B,[a("div",F,[a("div",I,[a("div",null,[a("div",L,[a("div",O,o(d.$t("Labels")),1),e.data.labels.length>0?(s(),r("ul",q,[a("li",A,[e.data.current_label?(s(),r("div",P,[l(i(_),{href:e.data.url.contact.index,class:"text-blue-500 hover:underline"},{default:u(()=>[m(o(d.$t("View all")),1)]),_:1},8,["href"])])):n("",!0),e.data.current_label?n("",!0):(s(),r("div",S,o(d.$t("View all")),1))]),(s(!0),r(y,null,g(e.data.labels,t=>(s(),r("li",{key:t.id,class:"mb-1"},[t.id!==e.data.current_label?(s(),r("div",z,[l(i(_),{href:t.url.show,class:"text-blue-500 hover:underline"},{default:u(()=>[m(o(t.name),1)]),_:2},1032,["href"]),a("span",E,"("+o(t.count)+")",1)])):n("",!0),t.id===e.data.current_label?(s(),r("div",T,[m(o(t.name)+" ",1),a("span",U,"("+o(t.count)+")",1)])):n("",!0)]))),128))])):(s(),r("p",G,o(d.$t("No labels yet.")),1))])]),a("div",H,[a("div",J,[a("h3",null,o(d.$t("All contacts in the vault")),1),a("div",K,[l(j,{modelValue:i(h).sort_order,"onUpdate:modelValue":c[0]||(c[0]=t=>i(h).sort_order=t),data:e.data.contact_sort_orders,required:!1,"dropdown-class":"block w-full me-2",onChange:c[1]||(c[1]=t=>v())},null,8,["modelValue","data"]),e.layoutData.vault.permission.at_least_editor?(s(),b(V,{key:0,href:e.data.url.contact.create,text:d.$t("Add a contact"),class:"ms-3",icon:"plus"},null,8,["href","text"])):n("",!0)])]),a("ul",M,[(s(!0),r(y,null,g(e.data.contacts,t=>(s(),r("li",{key:t.id,class:"flex items-center border-b border-gray-200 px-5 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[l(C,{data:t.avatar,class:k("me-2 h-5 w-5 rounded-full")},null,8,["data"]),l(i(_),{href:t.url.show,class:"text-blue-500 hover:underline"},{default:u(()=>[m(o(t.name),1)]),_:2},1032,["href"])]))),128))]),l(D,{items:e.paginator},null,8,["items"])])])])])]),_:1},8,["title","layout-data"]))}},st=N(Q,[["__scopeId","data-v-f898561c"]]);export{st as default};
