import{h as o,o as t,a as l,A as v,r as C,e as V,B as g,b as e,u as c,C as B,w as f,i as b,t as i,F as d,d as u,k,n as F,D as I}from"./app-CapNgXf-.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as N}from"./AuthenticationCardLogo-DtgeKbFE.js";import{_ as U}from"./Button-CeJKJvkU.js";import{_ as h}from"./Input-DBW5TJZF.js";import{_ as $}from"./Label-WzmNYhjC.js";import{_ as j}from"./ValidationErrors-Bh0pe_80.js";import{_ as K}from"./WebauthnLogin-DujbDASG.js";import"./ApplicationLogo-Dss_iDve.js";import"./InputError-BapgdLlk.js";import"./WaitForKey-BYvq9w9Y.js";import"./createLucideIcon-jKXsEGte.js";import"./startAuthentication-BTaWR7aw.js";const P={},R={class:"flex min-h-screen flex-col items-center bg-gray-100 pt-6 dark:bg-gray-800 sm:justify-center sm:pt-0"},S={class:"mt-6 w-full overflow-hidden bg-white px-6 py-4 shadow-md dark:bg-gray-900 dark:shadow-gray-700 sm:max-w-md sm:rounded-lg"};function A(s,n){return t(),o("div",R,[l("div",null,[v(s.$slots,"logo")]),l("div",S,[v(s.$slots,"default")])])}const D=T(P,[["render",A]]),z={key:0},E={class:"mb-4 max-w-xl text-gray-600 dark:text-gray-400"},L={key:1},M={class:"mb-4 text-sm text-gray-600 dark:text-gray-400"},O={key:0},q={key:1},G={class:"mt-4 flex items-center justify-end"},ce={__name:"TwoFactorChallenge",props:{twoFactor:Boolean,remember:Boolean,publicKey:Object},setup(s){const n=C(!1),r=V({code:"",recovery_code:""}),p=g("recoveryCodeInput"),_=g("codeInput"),w=async()=>{n.value^=!0,await I(),n.value?(p.value.focus(),r.code=""):(_.value.focus(),r.recovery_code="")},x=()=>{r.post(route("two-factor.login"))};return(a,m)=>(t(),o(d,null,[e(c(B),{title:a.$t("Two-factor Confirmation")},null,8,["title"]),e(D,null,{logo:f(()=>[e(N)]),default:f(()=>[s.publicKey!==null?(t(),o("div",z,[l("h1",E,i(a.$t("Please confirm access to your account by validating your security key.")),1),e(K,{remember:s.remember,"public-key":s.publicKey,autofill:!1},null,8,["remember","public-key"])])):b("",!0),s.twoFactor?(t(),o("div",L,[l("div",M,[n.value?(t(),o(d,{key:1},[u(i(a.$t("Please confirm access to your account by entering one of your emergency recovery codes.")),1)],64)):(t(),o(d,{key:0},[u(i(a.$t("Please confirm access to your account by entering the authentication code provided by your authenticator application.")),1)],64))]),e(j,{class:"mb-4"}),l("form",{onSubmit:k(x,["prevent"])},[n.value?(t(),o("div",q,[e($,{for:"recovery_code",value:a.$t("Recovery Code")},null,8,["value"]),e(h,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:p,modelValue:c(r).recovery_code,"onUpdate:modelValue":m[1]||(m[1]=y=>c(r).recovery_code=y),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"])])):(t(),o("div",O,[e($,{for:"code",value:a.$t("Code")},null,8,["value"]),e(h,{id:"code",ref_key:"codeInput",ref:_,modelValue:c(r).code,"onUpdate:modelValue":m[0]||(m[0]=y=>c(r).code=y),type:"text",inputmode:"numeric",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])])),l("div",G,[l("button",{type:"button",class:"cursor-pointer text-sm text-gray-600 underline hover:text-gray-900 dark:text-gray-400",onClick:k(w,["prevent"])},[n.value?(t(),o(d,{key:1},[u(i(a.$t("Use an authentication code")),1)],64)):(t(),o(d,{key:0},[u(i(a.$t("Use a recovery code")),1)],64))]),e(U,{class:F(["ms-4",{"opacity-25":c(r).processing}]),disabled:c(r).processing},{default:f(()=>[u(i(a.$t("Log in")),1)]),_:1},8,["class","disabled"])])],32)])):b("",!0)]),_:1})],64))}};export{ce as default};
