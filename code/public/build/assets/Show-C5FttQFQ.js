import{h as s,o as a,a as e,l as W,L as q,b as n,t as r,w as P,k as z,n as U,u as l,i as y,F as E,j as A,c as D,d as L,B as Z,r as j,e as te,x as G,ay as K,V as ae,aD as se,D as X,m as J,p as N,y as de,az as me,aN as fe,aO as ve,s as _e,z as ke,M as be,f as Ie,v as Ue,q as le}from"./app-CapNgXf-.js";import{_ as Me}from"./DialogModal-DpvCIBlW.js";import{_ as ye}from"./ConfirmationModal-C4kmuD-S.js";import{_ as je}from"./Button-CeJKJvkU.js";import{_ as Ve}from"./DangerButton-C3VCCtYy.js";import{_ as pe}from"./SecondaryButton-LDZ02WBB.js";import{a as $e,_ as Te}from"./Layout-BAHf2dOa.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{P as oe}from"./pencil-DWMhfSb1.js";import{A as Se}from"./index-C2abvfVx.js";import{_ as he}from"./Avatar-BYmVGbiJ.js";import{N as Pe}from"./Notes-DBS9d2ph.js";import{T as F}from"./TextInput-C8RADZPb.js";import{E as Y}from"./Errors-ClHFmp7Z.js";import{C as qe,P as R,_ as De}from"./PrettyButton-C7IwNjfl.js";import{D as re}from"./style-CRI3Zb-U.js";import{P as H}from"./PrettySpan-CCXc1kgI.js";import{D as B}from"./Dropdown-C6O7kLlt.js";import{c as Q}from"./createLucideIcon-jKXsEGte.js";import{_ as Le,F as Ee,L as Ae}from"./LifeEvent-Btemb4SU.js";import{T as ie}from"./TextArea-Bj3iknHw.js";import{C as ne}from"./ContactSelector-C0khNdCH.js";import{_ as xe}from"./ContactCard-DDKCeyoU.js";import{P as Ge}from"./PrettyLink-C13tRubX.js";import{H as ue}from"./HoverMenu-5Cb05m1q.js";import{L as Fe}from"./layout-list-Dub1FoDo.js";import{U as ge}from"./Uploadcare-CibjusrG.js";import{L as Re}from"./Loading-8Lv-NX8l.js";import{C as Ke}from"./chevron-right-D0eSkEU2.js";import"./Modal-Cq3DqFWU.js";import"./Pagination-Bti8hVNu.js";import"./calendar-days-CHV_SxXd.js";import"./omit-Chz3Ukzr.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=Q("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=Q("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=Q("crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=Q("dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=Q("file-image",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=Q("hand-coins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=Q("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Q("headset",[["path",{d:"M3 11h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5Zm0 0a9 9 0 1 1 18 0m0 0v5a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3Z",key:"12oyoe"}],["path",{d:"M21 16v2a4 4 0 0 1-4 4h-5",key:"1x7m43"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=Q("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Q("map-pin-house",[["path",{d:"M15 22a1 1 0 0 1-1-1v-4a1 1 0 0 1 .445-.832l3-2a1 1 0 0 1 1.11 0l3 2A1 1 0 0 1 22 17v4a1 1 0 0 1-1 1z",key:"1p1rcz"}],["path",{d:"M18 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 .601.2",key:"mcbcs9"}],["path",{d:"M18 22v-3",key:"1t1ugv"}],["circle",{cx:"10",cy:"10",r:"3",key:"1ns7v1"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Q("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=Q("phone-call",[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=Q("users-round",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),at={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400 hover:cursor-pointer hover:text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},st={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-yellow-500 hover:cursor-pointer",viewBox:"0 0 20 20",fill:"currentColor"},ot={__name:"StarIcon",props:{isFavorite:{type:Boolean,default:!1}},setup(t){return(i,f)=>t.isFavorite?(a(),s("svg",at,f[0]||(f[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)]))):(a(),s("svg",st,f[1]||(f[1]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])))}},rt={components:{InertiaLink:W,ATooltip:Se,StarIcon:ot,Pencil:oe},props:{data:{type:Object,default:null}},data(){return{localData:[]}},created(){this.localData=this.data},methods:{toggleFavorite(){axios.put(this.data.url.toggle_favorite).then(t=>{this.flash(this.$t("Changes saved"),"success"),this.localData=t.data.data}).catch(t=>{this.form.errors=t.response.data})}}},lt={class:"mb-4"},dt={class:"pb-1 mb-2 items-center justify-between border-b border-gray-200 dark:border-gray-700 flex"},nt={class:"text-xs"},it={class:"flex items-center justify-between text-xl font-bold"},ut={class:"me-2"};function ct(t,i,f,k,c,x){const V=q("Pencil"),S=q("InertiaLink"),I=q("StarIcon"),u=q("a-tooltip");return a(),s("div",lt,[e("div",dt,[e("div",nt,r(t.$t("Name")),1),n(S,{href:f.data.url.edit,class:"relative"},{default:P(()=>[n(V,{class:"h-3 w-3 text-gray-400"})]),_:1},8,["href"])]),e("h1",it,[e("span",ut,r(f.data.name),1),n(u,{placement:"topLeft",title:t.$t("Set as favorite"),"arrow-point-at-center":"",onClick:z(x.toggleFavorite,["prevent"])},{default:P(()=>[n(I,{"is-favorite":c.localData.is_favorite,onClick:z(x.toggleFavorite,["prevent"])},null,8,["is-favorite","onClick"])]),_:1},8,["title","onClick"])])])}const mt=O(rt,[["render",ct]]),bt={components:{Avatar:he},props:{data:{type:Object,default:null}}};function pt(t,i,f,k,c,x){const V=q("avatar");return a(),s("div",null,[n(V,{data:f.data.avatar,class:U("mx-auto mb-6 w-32 sm:w-1/2"),"img-classes":"rounded-xs sm:w-72"},null,8,["data"])])}const yt=O(bt,[["render",pt]]),ht={class:"mb-4 grid grid-cols-2 gap-4"},gt={class:"pb-1 mb-2 items-center justify-between border-b border-gray-200 dark:border-gray-700 flex"},ft={class:"text-xs"},vt={key:0,class:"text-sm"},_t={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},kt={class:"pb-1 mb-2 items-center justify-between border-b border-gray-200 dark:border-gray-700 flex"},$t={class:"text-xs"},xt={key:0,class:"text-sm"},wt={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},Ct={__name:"GenderPronoun",props:{data:Object},setup(t){return(i,f)=>(a(),s("div",ht,[e("div",null,[e("div",gt,[e("div",ft,r(i.$t("Gender")),1),n(l(W),{href:t.data.url.edit,class:"relative"},{default:P(()=>[n(l(oe),{class:"h-3 w-3 text-gray-400"})]),_:1},8,["href"])]),t.data.gender?(a(),s("p",vt,r(t.data.gender),1)):(a(),s("p",_t,r(i.$t("Not set")),1))]),e("div",null,[e("div",kt,[e("div",$t,r(i.$t("Pronoun")),1),n(l(W),{href:t.data.url.edit,class:"relative"},{default:P(()=>[n(l(oe),{class:"h-3 w-3 text-gray-400"})]),_:1},8,["href"])]),t.data.pronoun?(a(),s("p",xt,r(t.data.pronoun),1)):(a(),s("p",wt,r(i.$t("Not set")),1))])]))}},Vt=O(Ct,[["__scopeId","data-v-bad1f9db"]]),St={key:0,class:"mb-4"},It={class:"mb-3 items-center justify-between border-b border-gray-200 dark:border-gray-700 sm:flex"},Ut={class:"mb-1 text-xs"},Mt={key:0,class:"flex"},jt={key:1},Tt={key:2,class:"ms-2 text-xs text-gray-400"},Pt={key:1,class:"flex"},qt={key:1},Dt={key:2,class:"ms-2 text-xs text-gray-400"},Lt={__name:"FamilySummary",props:{data:Object},setup(t){return(i,f)=>t.data.love_relationships.length!==0||t.data.family_relationships.length!==0?(a(),s("div",St,[e("div",It,[e("div",Ut,r(i.$t("Family summary")),1)]),t.data.love_relationships.length>0?(a(),s("div",Mt,[f[0]||(f[0]=e("span",{class:"me-2 inline text-sm"}," â¤ï¸ ",-1)),e("ul",null,[(a(!0),s(E,null,A(t.data.love_relationships,k=>(a(),s("li",{key:k.id,class:"me-2 inline"},[k.contact.url.show?(a(),D(l(W),{key:0,href:k.contact.url.show,class:"text-blue-500 hover:underline"},{default:P(()=>[L(r(k.contact.name),1)]),_:2},1032,["href"])):(a(),s("span",jt,r(k.contact.name),1)),k.contact.age?(a(),s("span",Tt,"("+r(k.contact.age)+")",1)):y("",!0)]))),128))])])):y("",!0),t.data.family_relationships.length>0?(a(),s("div",Pt,[f[1]||(f[1]=e("span",{class:"me-2 inline text-sm"}," ðŸ‘ª ",-1)),e("ul",null,[(a(!0),s(E,null,A(t.data.family_relationships,k=>(a(),s("li",{key:k.id,class:"me-2 inline"},[k.contact.url.show?(a(),D(l(W),{key:0,href:k.contact.url.show,class:"text-blue-500 hover:underline"},{default:P(()=>[L(r(k.contact.name),1)]),_:2},1032,["href"])):(a(),s("span",qt,r(k.contact.name),1)),k.contact.age?(a(),s("span",Dt,"("+r(k.contact.age)+")",1)):y("",!0)]))),128))])])):y("",!0)])):y("",!0)}},Et={class:"mb-4"},At={class:"pb-1 mb-2 items-center justify-between border-b border-gray-200 dark:border-gray-700 flex"},Gt={class:"text-xs"},Ft={class:"mb-1 flex items-center justify-between hover:bg-slate-50 dark:bg-slate-800 dark:hover:bg-slate-900"},Rt={class:"text-sm"},Kt={class:"text-sm"},Nt={key:0,class:"text-xs text-gray-400"},Ot={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},zt={__name:"ImportantDates",props:{data:Object},setup(t){return(i,f)=>(a(),s("div",Et,[e("div",At,[e("div",Gt,r(i.$t("Important dates")),1),n(l(W),{href:t.data.url.edit,class:"relative"},{default:P(()=>[n(l(oe),{class:"h-3 w-3 text-gray-400"})]),_:1},8,["href"])]),(a(!0),s(E,null,A(t.data.dates,k=>(a(),s("ul",{key:k.id},[e("li",Ft,[e("span",Rt,r(k.label),1),e("span",Kt,[L(r(k.date)+" ",1),k.age?(a(),s("span",Nt,"("+r(k.age)+")",1)):y("",!0)])])]))),128)),t.data.dates.length===0?(a(),s("p",Ot,r(i.$t("Not set")),1)):y("",!0)]))}},Bt=O(zt,[["__scopeId","data-v-1781b68f"]]),Yt={components:{InertiaLink:W,TextInput:F,Errors:Y,Pencil:oe,CheckedIcon:qe},props:{data:{type:Object,default:null}},data(){return{editLabelModalShown:!1,localLabels:[],localLabelsInVault:[],form:{search:"",name:"",errors:[]}}},computed:{showCreateNewLabel(){let t=!1;return this.filteredLabels.length&&this.filteredLabels.forEach(i=>{i.name.toLowerCase()===this.form.search.toLowerCase()&&(t=!0)}),(!t||this.filteredLabels.length===0)&&this.form.search!==""},filteredLabels(){return this.localLabelsInVault.filter(t=>t.name.toLowerCase().indexOf(this.form.search.toLowerCase())>-1)}},created(){this.localLabels=this.data.labels_in_contact,this.localLabelsInVault=this.data.labels_in_vault},methods:{showEditModal(){this.form.name="",this.editLabelModalShown=!0,this.$nextTick().then(()=>{this.$refs.label.focus()})},store(){this.form.name=this.form.search,axios.post(this.data.url.store,this.form).then(t=>{this.flash(this.$t("The label has been added"),"success"),this.form.search="",this.localLabelsInVault.push(t.data.data),this.localLabels.push(t.data.data)}).catch(t=>{this.form.errors=t.response.data})},set(t){if(t.taken){this.remove(t);return}axios.put(t.url.update).then(i=>{this.localLabelsInVault[this.localLabelsInVault.findIndex(f=>f.id===t.id)]=i.data.data,this.localLabels.push(i.data.data)}).catch(i=>{this.form.errors=i.response.data})},remove(t){axios.delete(t.url.destroy).then(i=>{this.localLabelsInVault[this.localLabelsInVault.findIndex(k=>k.id===t.id)]=i.data.data;var f=this.localLabels.findIndex(k=>k.id===t.id);this.localLabels.splice(f,1)}).catch(i=>{this.form.errors=i.response.data})}}},Ht={class:"mb-4"},Wt={class:"pb-1 mb-2 items-center justify-between border-b border-gray-200 dark:border-gray-700 flex"},Jt={class:"text-xs"},Qt={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Zt={class:"border-b border-gray-200 p-2 dark:border-gray-700"},Xt={class:"italic"},ea=["onClick"],ta={key:1,class:"border-b border-gray-200 px-3 py-2 text-sm text-gray-600 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:text-gray-400 dark:hover:bg-slate-800"},aa={class:"flex flex-wrap"},sa={key:1,class:"text-sm text-gray-600 dark:text-gray-400"};function oa(t,i,f,k,c,x){const V=q("Pencil"),S=q("errors"),I=q("text-input"),u=q("CheckedIcon"),v=q("InertiaLink");return a(),s("div",Ht,[e("div",Wt,[e("div",Jt,r(t.$t("Labels")),1),c.editLabelModalShown?y("",!0):(a(),s("span",{key:0,class:"relative cursor-pointer",onClick:i[0]||(i[0]=(...$)=>x.showEditModal&&x.showEditModal(...$))},[n(V,{class:"h-3 w-3 text-gray-400"})])),c.editLabelModalShown?(a(),s("span",{key:1,class:"cursor-pointer text-xs text-gray-600 dark:text-gray-400",onClick:i[1]||(i[1]=$=>c.editLabelModalShown=!1)},r(t.$t("Close")),1)):y("",!0)]),c.editLabelModalShown?(a(),s("div",Qt,[e("div",Zt,[n(S,{errors:c.form.errors},null,8,["errors"]),n(I,{ref:"label",modelValue:c.form.search,"onUpdate:modelValue":i[2]||(i[2]=$=>c.form.search=$),type:"text",placeholder:t.$t("Filter list or create a new label"),autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,onEscKeyPressed:i[3]||(i[3]=$=>c.editLabelModalShown=!1)},null,8,["modelValue","placeholder"])]),e("ul",{class:U(["label-list overflow-auto bg-white dark:bg-gray-900",x.filteredLabels.length>0?"h-40":""])},[x.showCreateNewLabel?(a(),s("li",{key:0,class:"cursor-pointer border-b border-gray-200 px-3 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 hover:dark:bg-slate-800",onClick:i[4]||(i[4]=$=>x.store())},[L(r(t.$t("Create new label"))+" ",1),e("span",Xt,'"'+r(c.form.search)+'"',1)])):y("",!0),(a(!0),s(E,null,A(x.filteredLabels,$=>(a(),s("li",{key:$.id,class:"flex cursor-pointer items-center justify-between border-b border-gray-200 px-3 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800",onClick:h=>x.set($)},[e("div",null,[e("span",{class:U(["me-2 inline-block h-4 w-4 rounded-full",$.bg_color])},null,2),e("span",null,r($.name),1)]),$.taken?(a(),D(u,{key:0})):y("",!0)],8,ea))),128)),x.filteredLabels.length===0&&c.form.search.length===""?(a(),s("li",ta,r(t.$t("Please type a few characters to create a new label.")),1)):y("",!0)],2)])):y("",!0),e("div",aa,[(a(!0),s(E,null,A(c.localLabels,$=>(a(),s("span",{key:$.id,class:U(["mb-2 me-2 inline-block rounded-xs px-2 py-1 text-xs font-semibold last:me-0",$.bg_color+" "+$.text_color])},[n(v,{href:$.url.show},{default:P(()=>[L(r($.name),1)]),_:2},1032,["href"])],2))),128))]),c.localLabels.length===0?(a(),s("p",sa,r(t.$t("Not set")),1)):y("",!0)])}const ra=O(Yt,[["render",oa],["__scopeId","data-v-8282dce0"]]),la={class:"mb-10"},da={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},na={class:"mb-2 sm:mb-0 flex items-center gap-2"},ia={class:"font-semibold"},ua={class:"border-b border-gray-200 dark:border-gray-700"},ca={key:0,class:"p-5"},ma={class:"border-b border-gray-200 p-5 dark:border-gray-700"},ba={class:"border-b border-gray-200 p-5 dark:border-gray-700"},pa={class:"mb-2 flex items-center"},ya={for:"full_date",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},ha={key:0,class:"mb-4 ms-6"},ga=["value"],fa={class:"flex items-center"},va={for:"month_day",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},_a={key:1,class:"ms-6 mt-2 flex"},ka={class:"p-5"},$a={class:"mb-1"},xa={class:"mb-1 text-sm text-gray-600 dark:text-gray-400"},wa={class:"ms-4 mt-4"},Ca={class:"mb-2 flex items-center"},Va={for:"one_time",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Sa={class:"mb-2 flex items-center"},Ia={for:"recurring",class:"ms-3 block flex cursor-pointer items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Ua={class:"me-2"},Ma={class:"flex justify-between p-5"},ja={key:1},Ta={class:"mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Pa={class:"flex items-center justify-between px-3 py-2"},qa={class:"flex items-center"},Da={class:"me-2 text-sm text-gray-500"},La={class:"me-2"},Ea={class:"text-sm"},Aa=["onClick"],Ga=["onClick"],Fa=["onSubmit"],Ra={class:"border-b border-gray-200 dark:border-gray-700"},Ka={key:0,class:"p-5"},Na={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Oa={class:"border-b border-gray-200 p-5 dark:border-gray-700"},za={class:"mb-2 flex items-center"},Ba={for:"full_date",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Ya={key:0,class:"mb-4 ms-6"},Ha=["value"],Wa={class:"flex items-center"},Ja={for:"month_day",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Qa={key:1,class:"ms-6 mt-2 flex"},Za={class:"p-5"},Xa={class:"mb-1"},es={class:"mb-1 text-sm text-gray-600 dark:text-gray-400"},ts={class:"ms-4 mt-4"},as={class:"mb-2 flex items-center"},ss={for:"one_time",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},os={class:"mb-2 flex items-center"},rs={for:"recurring",class:"ms-3 block flex cursor-pointer items-center text-sm font-medium text-gray-700 dark:text-gray-300"},ls={class:"me-2"},ds={class:"flex justify-between p-5"},ns={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},is=["alt"],us={class:"px-5 pb-5 pt-2 text-center"},cs={__name:"Reminders",props:{data:Object},setup(t){const i=t,f=Z("label"),k=Z("labels"),c=j(""),x=j(!1),V=j(i.data.reminders),S=j(0),I=j({modelValue:"YYYY-MM-DD"}),u=te({label:"",reminderChoice:"",day:"",month:"",choice:"",date:"",frequencyType:"",frequencyNumber:0,errors:[]}),v=()=>{u.errors=[],u.label="",u.choice="full_date",u.day="",u.month="",u.reminderChoice="recurring",u.date="",u.frequencyType="recurring_year",u.frequencyNumber=1,x.value=!0,X().then(()=>f.value.focus())},$=g=>{u.errors=[],S.value=g.id,u.label=g.label,u.day=g.day,u.month=g.month,u.date=g.date,u.reminderChoice=g.reminder_choice,u.frequencyNumber=g.frequency_number,u.frequencyType=g.type,u.choice=g.choice,X().then(()=>k.value[0].focus())},h=()=>{c.value="loading",axios.post(i.data.url.store,u).then(g=>{J(N("The reminder has been created"),"success"),V.value.unshift(g.data.data),c.value="",x.value=!1}).catch(g=>{c.value="",u.errors=g.response.data})},M=g=>{c.value="loading",axios.put(g.url.update,u).then(w=>{c.value="",J(N("The reminder has been updated"),"success"),V.value[V.value.findIndex(C=>C.id===g.id)]=w.data.data,S.value=0}).catch(w=>{c.value="",u.errors=w.response.data})},T=g=>{confirm(N("Are you sure? This action cannot be undone."))&&axios.delete(g.url.destroy).then(()=>{J(N("The reminder has been deleted"),"success");let w=V.value.findIndex(C=>C.id===g.id);V.value.splice(w,1)}).catch(w=>{c.value=null,u.errors=w.response.data})};return(g,w)=>{const C=q("RefreshIcon");return a(),s("div",la,[e("div",da,[e("div",na,[n(l(Ne),{class:"h-4 w-4 text-gray-600"}),e("span",ia,r(g.$t("Reminders")),1)]),n(R,{text:g.$t("Add a reminder"),icon:"plus",class:U("w-full sm:w-fit"),onClick:v},null,8,["text"])]),x.value?(a(),s("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:w[12]||(w[12]=z(b=>h(),["prevent"]))},[e("div",ua,[l(u).errors.length>0?(a(),s("div",ca,[n(Y,{errors:l(u).errors},null,8,["errors"])])):y("",!0),e("div",ma,[n(F,{ref_key:"label",ref:f,modelValue:l(u).label,"onUpdate:modelValue":w[0]||(w[0]=b=>l(u).label=b),label:g.$t("Name of the reminder"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:w[1]||(w[1]=b=>x.value=!1)},null,8,["modelValue","label"])]),e("div",ba,[e("div",pa,[G(e("input",{id:"full_date","onUpdate:modelValue":w[2]||(w[2]=b=>l(u).choice=b),value:"full_date",name:"date",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).choice]]),e("label",ya,r(g.$t("I know the exact date, including the year")),1)]),l(u).choice==="full_date"?(a(),s("div",ha,[n(l(re),{modelValue:l(u).date,"onUpdate:modelValue":w[3]||(w[3]=b=>l(u).date=b),modelModifiers:{string:!0},class:"inline-block h-full",masks:I.value,locale:g.$page.props.auth.user?.locale_ietf,"is-dark":g.isDark()},{default:P(({inputValue:b,inputEvents:d})=>[e("input",ae({class:"rounded-xs border bg-white px-2 py-1 dark:bg-gray-900",value:b},se(d,!0)),null,16,ga)]),_:1},8,["modelValue","masks","locale","is-dark"])])):y("",!0),e("div",fa,[G(e("input",{id:"month_day","onUpdate:modelValue":w[4]||(w[4]=b=>l(u).choice=b),value:"month_day",name:"date",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).choice]]),e("label",va,r(g.$t("I only know the day and month, not the year")),1)]),l(u).choice==="month_day"?(a(),s("div",_a,[n(B,{modelValue:l(u).month,"onUpdate:modelValue":w[5]||(w[5]=b=>l(u).month=b),data:t.data.months,required:!0,class:U("mb-5 me-2"),placeholder:g.$t("Choose a value"),"dropdown-class":"block w-full",label:g.$t("Month")},null,8,["modelValue","data","placeholder","label"]),n(B,{modelValue:l(u).day,"onUpdate:modelValue":w[6]||(w[6]=b=>l(u).day=b),data:t.data.days,required:!0,class:U("mb-5"),placeholder:g.$t("Choose a value"),"dropdown-class":"block w-full",label:g.$t("Day")},null,8,["modelValue","data","placeholder","label"])])):y("",!0)]),e("div",ka,[e("p",$a,r(g.$t("How often should we remind you about this date?")),1),e("p",xa,r(g.$t("If the date is in the past, the next occurence of the date will be next year.")),1),e("div",wa,[e("div",Ca,[G(e("input",{id:"one_time","onUpdate:modelValue":w[7]||(w[7]=b=>l(u).reminderChoice=b),value:"one_time",name:"reminder-frequency",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).reminderChoice]]),e("label",Va,r(g.$t("Only once, when the next occurence of the date occurs.")),1)]),e("div",Sa,[G(e("input",{id:"recurring","onUpdate:modelValue":w[8]||(w[8]=b=>l(u).reminderChoice=b),value:"recurring",name:"reminder-frequency",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).reminderChoice]]),e("label",Ia,[e("span",Ua,r(g.$t("Every")),1),n(B,{id:"frequency-number",modelValue:l(u).frequencyNumber,"onUpdate:modelValue":w[9]||(w[9]=b=>l(u).frequencyNumber=b),"dropdown-class":"me-2",required:g.required,data:[1,2,3,4,5,6,7,8,9,10]},null,8,["modelValue","required"]),n(B,{id:"frequency-type",modelValue:l(u).frequencyType,"onUpdate:modelValue":w[10]||(w[10]=b=>l(u).frequencyType=b),"dropdown-class":"me-2",required:g.required,data:[{id:"recurring_day",name:g.$t("day")},{id:"recurring_month",name:g.$t("month")},{id:"recurring_year",name:g.$t("year")}]},null,8,["modelValue","required","data"]),e("span",null,r(g.$t("after the next occurence of the date.")),1)])])])])]),e("div",Ma,[n(H,{text:g.$t("Cancel"),class:U("me-3"),onClick:w[11]||(w[11]=b=>x.value=!1)},null,8,["text"]),n(R,{text:g.$t("Add date"),state:c.value,icon:"plus",class:U("save")},null,8,["text","state"])])],32)):y("",!0),V.value.length>0?(a(),s("div",ja,[e("ul",Ta,[(a(!0),s(E,null,A(V.value,b=>(a(),s("li",{key:b.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[e("div",Pa,[e("div",qa,[e("span",Da,r(b.date),1),e("span",La,r(b.label),1),b.type!=="one_time"?(a(),D(l(Se),{key:0,placement:"topLeft",title:"Recurring","arrow-point-at-center":""},{default:P(()=>[n(C)]),_:1})):y("",!0)]),e("ul",Ea,[e("li",{class:"me-4 inline cursor-pointer text-blue-500 hover:underline",onClick:d=>$(b)},r(g.$t("Edit")),9,Aa),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:d=>T(b)},r(g.$t("Delete")),9,Ga)])]),S.value===b.id?(a(),s("form",{key:0,class:"bg-gray-50 dark:bg-gray-900",onSubmit:z(d=>M(b),["prevent"])},[e("div",Ra,[l(u).errors.length>0?(a(),s("div",Ka,[n(Y,{errors:l(u).errors},null,8,["errors"])])):y("",!0),e("div",Na,[n(F,{ref_for:!0,ref_key:"labels",ref:k,modelValue:l(u).label,"onUpdate:modelValue":w[13]||(w[13]=d=>l(u).label=d),label:g.$t("Name of the reminder"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:w[14]||(w[14]=d=>x.value=!1)},null,8,["modelValue","label"])]),e("div",Oa,[e("div",za,[G(e("input",{id:"full_date","onUpdate:modelValue":w[15]||(w[15]=d=>l(u).choice=d),value:"full_date",name:"date",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).choice]]),e("label",Ba,r(g.$t("I know the exact date, including the year")),1)]),l(u).choice==="full_date"?(a(),s("div",Ya,[n(l(re),{modelValue:l(u).date,"onUpdate:modelValue":w[16]||(w[16]=d=>l(u).date=d),modelModifiers:{string:!0},class:"inline-block h-full",masks:I.value,locale:g.$page.props.auth.user?.locale_ietf,"is-dark":g.isDark()},{default:P(({inputValue:d,inputEvents:o})=>[e("input",ae({class:"rounded-xs border bg-white px-2 py-1 dark:bg-gray-900",value:d},se(o,!0)),null,16,Ha)]),_:1},8,["modelValue","masks","locale","is-dark"])])):y("",!0),e("div",Wa,[G(e("input",{id:"month_day","onUpdate:modelValue":w[17]||(w[17]=d=>l(u).choice=d),value:"month_day",name:"date",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).choice]]),e("label",Ja,r(g.$t("I only know the day and month, not the year")),1)]),l(u).choice==="month_day"?(a(),s("div",Qa,[n(B,{modelValue:l(u).month,"onUpdate:modelValue":w[18]||(w[18]=d=>l(u).month=d),data:t.data.months,required:!0,class:U("me-2"),placeholder:g.$t("Choose a value"),"dropdown-class":"block w-full",label:g.$t("Month")},null,8,["modelValue","data","placeholder","label"]),n(B,{modelValue:l(u).day,"onUpdate:modelValue":w[19]||(w[19]=d=>l(u).day=d),data:t.data.days,required:!0,placeholder:g.$t("Choose a value"),"dropdown-class":"block w-full",label:g.$t("Day")},null,8,["modelValue","data","placeholder","label"])])):y("",!0)]),e("div",Za,[e("p",Xa,r(g.$t("How often should we remind you about this date?")),1),e("p",es,r(g.$t("If the date is in the past, the next occurence of the date will be next year.")),1),e("div",ts,[e("div",as,[G(e("input",{id:"one_time","onUpdate:modelValue":w[20]||(w[20]=d=>l(u).reminderChoice=d),value:"one_time",name:"reminder-frequency",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).reminderChoice]]),e("label",ss,r(g.$t("Only once, when the next occurence of the date occurs.")),1)]),e("div",os,[G(e("input",{id:"recurring","onUpdate:modelValue":w[21]||(w[21]=d=>l(u).reminderChoice=d),value:"recurring",name:"reminder-frequency",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).reminderChoice]]),e("label",rs,[e("span",ls,r(g.$t("Every")),1),n(B,{id:"frequency-number",modelValue:l(u).frequencyNumber,"onUpdate:modelValue":w[22]||(w[22]=d=>l(u).frequencyNumber=d),"dropdown-class":"me-2",required:g.required,data:[1,2,3,4,5,6,7,8,9,10]},null,8,["modelValue","required"]),n(B,{id:"frequency-type",modelValue:l(u).frequencyType,"onUpdate:modelValue":w[23]||(w[23]=d=>l(u).frequencyType=d),"dropdown-class":"me-2",required:g.required,data:[{id:"recurring_day",name:g.$t("day")},{id:"recurring_month",name:g.$t("month")},{id:"recurring_year",name:g.$t("year")}]},null,8,["modelValue","required","data"]),e("span",null,r(g.$t("after the next occurence of the date.")),1)])])])])]),e("div",ds,[n(H,{text:g.$t("Cancel"),class:U("me-3"),onClick:w[24]||(w[24]=d=>S.value=0)},null,8,["text"]),n(R,{text:g.$t("Save"),state:c.value,icon:"check",class:U("save")},null,8,["text","state"])])],40,Fa)):y("",!0)]))),128))])])):y("",!0),V.value.length===0?(a(),s("div",ns,[e("img",{src:"/img/dashboard_blank_reminders.svg",alt:g.$t("Reminders"),class:"mx-auto mt-4 h-14 w-14"},null,8,is),e("p",us,r(g.$t("There are no reminders yet.")),1)])):y("",!0)])}}},ms=O(cs,[["__scopeId","data-v-b06143d7"]]),bs={class:"mb-10"},ps={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},ys={class:"mb-2 sm:mb-0 flex items-center gap-2"},hs={class:"font-semibold"},gs={class:"border-b border-gray-200 dark:border-gray-700"},fs={class:"border-b border-gray-200 px-5 pb-3 pt-5 dark:border-gray-700"},vs={class:"me-5 inline-block"},_s={class:"flex items-center"},ks={for:"object",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},$s={class:"me-5 inline-block"},xs={class:"flex items-center"},ws={for:"monetary",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Cs={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Vs={key:0,class:"flex border-b border-gray-200 p-5 dark:border-gray-700"},Ss={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Is={class:"mb-2 block text-sm"},Us=["value"],Ms={class:"flex items-center items-stretch border-b border-gray-200 dark:border-gray-700"},js={class:"p-5"},Ts={key:0,class:"p-5"},Ps={key:1,class:"border-b p-3"},qs={class:"flex justify-between p-5"},Ds={key:0,class:"me-3 flex items-center"},Ls={class:"flex -space-x-2 overflow-hidden"},Es={key:1,class:"item-list w-full rounded-lg border border-gray-200 bg-white hover:bg-slate-50 dark:border-gray-700 dark:bg-gray-900 dark:hover:bg-slate-800"},As={class:"border-b border-gray-200 px-3 py-2 dark:border-gray-700"},Gs={class:"flex items-center justify-between"},Fs={class:"me-2 block"},Rs={key:0,class:"me-2"},Ks={key:0},Ns={key:0,class:"me-2 text-sm text-gray-500"},Os={class:"flex items-center justify-between px-3 py-2"},zs={class:"text-sm"},Bs=["onClick"],Ys=["onClick"],Hs=["onClick"],Ws=["onClick"],Js=["onSubmit"],Qs={class:"border-b border-gray-200 dark:border-gray-700"},Zs={class:"border-b border-gray-200 px-5 pb-3 pt-5 dark:border-gray-700"},Xs={class:"me-5 inline-block"},eo={class:"flex items-center"},to={for:"object",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},ao={class:"me-5 inline-block"},so={class:"flex items-center"},oo={for:"monetary",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},ro={class:"border-b border-gray-200 p-5 dark:border-gray-700"},lo={key:0,class:"flex border-b border-gray-200 p-5 dark:border-gray-700"},no={class:"border-b border-gray-200 p-5 dark:border-gray-700"},io={class:"mb-2 block text-sm"},uo=["value"],co={class:"flex items-center items-stretch border-b border-gray-200 dark:border-gray-700"},mo={class:"p-5"},bo={key:0,class:"p-5"},po={key:1,class:"border-b p-3"},yo={class:"flex justify-between p-5"},ho={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},go=["alt"],fo={class:"px-5 pb-5 pt-2 text-center"},vo={__name:"Loans",props:{layoutData:Object,data:Object},setup(t){const i=t,f=Z("nameInput"),k=j(""),c=j(!1),x=j(i.data.loans),V=j([]),S=j(0),I=j(""),u=te({type:"object",name:"",description:"",loaned_at:i.data.current_date,amount_lent:"",currency_id:"",loaners:[],loanees:[],errors:[]}),v=j({modelValue:"YYYY-MM-DD"}),$=()=>{M(),u.errors=[],u.type="object",u.name="",u.description="",u.amount_lent="",u.currency_id="",c.value=!0,X().then(()=>f.value.focus())},h=b=>{M(),u.errors=[],u.type=b.amount_lent_input?"monetary":"object",u.name=b.name,u.description=b.description,u.loaned_at=b.loaned_at,u.amount_lent=b.amount_lent_input,u.currency_id=b.currency_id,u.loaners=b.loaners,u.loanees=b.loanees,S.value=b.id},M=()=>{V.value.length===0&&axios.get(i.data.url.currencies,u).then(b=>{V.value=b.data.data})},T=()=>{if(u.loaners.length===0||u.loanees.length===0){I.value=N("Please indicate the contacts");return}k.value="loading",axios.post(i.data.url.store,u).then(b=>{J(N("The loan has been created"),"success"),x.value.unshift(b.data.data),k.value="",c.value=!1}).catch(b=>{k.value="",u.errors=b.response.data})},g=b=>{k.value="loading",axios.put(b.url.update,u).then(d=>{k.value="",J(N("The loan has been updated"),"success"),x.value[x.value.findIndex(o=>o.id===b.id)]=d.data.data,S.value=0}).catch(d=>{k.value="",u.errors=d.response.data})},w=b=>{confirm(N("Are you sure? This action cannot be undone."))&&axios.delete(b.url.destroy).then(()=>{J(N("The loan has been deleted"),"success");let d=x.value.findIndex(o=>o.id===b.id);x.value.splice(d,1)}).catch(d=>{k.value=null,u.errors=d.response.data})},C=b=>{axios.put(b.url.toggle,u).then(d=>{J(N("The loan has been settled"),"success"),x.value[x.value.findIndex(o=>o.id===b.id)]=d.data.data}).catch(d=>{u.errors=d.response.data})};return(b,d)=>(a(),s("div",bs,[e("div",ps,[e("div",ys,[n(l(He),{class:"h-4 w-4 text-gray-600"}),e("span",hs,r(b.$t("Loans")),1)]),n(R,{text:b.$t("Record a loan"),icon:"plus",class:U("w-full sm:w-fit"),onClick:$},null,8,["text"])]),e("div",null,[c.value?(a(),s("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:d[12]||(d[12]=z(o=>T(),["prevent"]))},[e("div",gs,[e("div",fs,[e("ul",null,[e("li",vs,[e("div",_s,[G(e("input",{id:"object","onUpdate:modelValue":d[0]||(d[0]=o=>l(u).type=o),value:"object",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).type]]),e("label",ks,r(b.$t("The loan is an object")),1)])]),e("li",$s,[e("div",xs,[G(e("input",{id:"monetary","onUpdate:modelValue":d[1]||(d[1]=o=>l(u).type=o),value:"monetary",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).type]]),e("label",ws,r(b.$t("The loan is monetary")),1)])])])]),e("div",Cs,[n(F,{ref_key:"nameInput",ref:f,modelValue:l(u).name,"onUpdate:modelValue":d[2]||(d[2]=o=>l(u).name=o),label:b.$t("What is the loan?"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:d[3]||(d[3]=o=>c.value=!1)},null,8,["modelValue","label"])]),l(u).type==="monetary"?(a(),s("div",Vs,[n(F,{ref:"label",modelValue:l(u).amount_lent,"onUpdate:modelValue":d[4]||(d[4]=o=>l(u).amount_lent=o),label:b.$t("How much money was lent?"),help:b.$t("Write the amount with a dot if you need decimals, like 100.50"),type:"number",autofocus:!0,"input-class":"w-full",required:!1,min:0,max:1e7,autocomplete:!1,onEscKeyPressed:d[5]||(d[5]=o=>c.value=!1)},null,8,["modelValue","label","help"]),n(B,{modelValue:l(u).currency_id,"onUpdate:modelValue":d[6]||(d[6]=o=>l(u).currency_id=o),data:V.value,required:!1,class:U("mb-5 ms-3"),placeholder:b.$t("Choose a value"),"dropdown-class":"block",label:b.$t("Currency")},null,8,["modelValue","data","placeholder","label"])])):y("",!0),e("div",Ss,[e("p",Is,r(b.$t("When was the loan made?")),1),n(l(re),{modelValue:l(u).loaned_at,"onUpdate:modelValue":d[7]||(d[7]=o=>l(u).loaned_at=o),modelModifiers:{string:!0},class:"inline-block h-full",masks:v.value,locale:b.$page.props.auth.user?.locale_ietf,"is-dark":b.isDark()},{default:P(({inputValue:o,inputEvents:m})=>[e("input",ae({class:"rounded-xs border bg-white px-2 py-1 dark:bg-gray-900",value:o},se(m,!0)),null,16,Us)]),_:1},8,["modelValue","masks","locale","is-dark"])]),e("div",Ms,[n(ne,{modelValue:l(u).loaners,"onUpdate:modelValue":d[8]||(d[8]=o=>l(u).loaners=o),"search-url":t.layoutData.vault.url.search_contacts_only,"most-consulted-contacts-url":t.layoutData.vault.url.get_most_consulted_contacts,"display-most-consulted-contacts":!1,label:b.$t("Who makes the loan?"),"add-multiple-contacts":!0,required:!0,class:U("flex-1 border-e border-gray-200 p-5 dark:border-gray-700")},null,8,["modelValue","search-url","most-consulted-contacts-url","label"]),n(ne,{modelValue:l(u).loanees,"onUpdate:modelValue":d[9]||(d[9]=o=>l(u).loanees=o),"search-url":t.layoutData.vault.url.search_contacts_only,"most-consulted-contacts-url":t.layoutData.vault.url.get_most_consulted_contacts,"display-most-consulted-contacts":!0,label:b.$t("Who the loan is for?"),"add-multiple-contacts":!0,required:!0,class:U("flex-1 p-5")},null,8,["modelValue","search-url","most-consulted-contacts-url","label"])]),e("div",js,[n(ie,{modelValue:l(u).description,"onUpdate:modelValue":d[10]||(d[10]=o=>l(u).description=o),label:b.$t("Description"),maxlength:255,"textarea-class":"block w-full"},null,8,["modelValue","label"])])]),l(u).errors.length>0?(a(),s("div",Ts,[n(Y,{errors:l(u).errors},null,8,["errors"])])):y("",!0),I.value!==""?(a(),s("div",Ps,"âš ï¸ "+r(I.value),1)):y("",!0),e("div",qs,[n(H,{text:b.$t("Cancel"),class:U("me-3"),onClick:d[11]||(d[11]=o=>c.value=!1)},null,8,["text"]),n(R,{text:b.$t("Add loan"),state:k.value,icon:"plus",class:U("save")},null,8,["text","state"])])],32)):y("",!0),(a(!0),s(E,null,A(x.value,o=>(a(),s("div",{key:o.id,class:"mb-5 flex"},[S.value!==o.id?(a(),s("div",Ds,[e("div",Ls,[(a(!0),s(E,null,A(o.loaners,m=>(a(),s("div",{key:m.id},[n(xe,{contact:m,"avatar-classes":"h-7 w-7 rounded-full me-2","display-name":!1},null,8,["contact"])]))),128))]),n(De,{type:"right",size:"big"}),(a(!0),s(E,null,A(o.loanees,m=>(a(),s("div",{key:m.id},[n(xe,{contact:m,"avatar-classes":"h-7 w-7 rounded-full me-2","display-name":!1},null,8,["contact"])]))),128))])):y("",!0),S.value!==o.id?(a(),s("div",Es,[e("div",As,[e("div",Gs,[e("div",null,[e("span",Fs,[o.amount_full?(a(),s("span",Rs,[L(r(o.amount_full)+" ",1),d[25]||(d[25]=e("span",{class:"ms-2"}," â€¢ ",-1))])):y("",!0),L(" "+r(o.name),1)]),o.description?(a(),s("span",Ks,r(o.description),1)):y("",!0)]),o.loaned_at_human_format?(a(),s("span",Ns,r(o.loaned_at_human_format),1)):y("",!0)])]),e("div",Os,[e("ul",zs,[o.settled?(a(),s("li",{key:1,class:"me-4 inline cursor-pointer text-blue-500 hover:underline",onClick:m=>C(o)},r(b.$t("Revert")),9,Ys)):(a(),s("li",{key:0,class:"me-4 inline cursor-pointer text-blue-500 hover:underline",onClick:m=>C(o)},r(b.$t("Settle")),9,Bs)),e("li",{class:"me-4 inline cursor-pointer text-blue-500 hover:underline",onClick:m=>h(o)},r(b.$t("Edit")),9,Hs),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:m=>w(o)},r(b.$t("Delete")),9,Ws)])])])):y("",!0),S.value===o.id?(a(),s("form",{key:2,class:"mb-6 w-full rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:z(m=>g(o),["prevent"])},[e("div",Qs,[e("div",Zs,[e("ul",null,[e("li",Xs,[e("div",eo,[G(e("input",{id:"object","onUpdate:modelValue":d[13]||(d[13]=m=>l(u).type=m),value:"object",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).type]]),e("label",to,r(b.$t("The loan is an object")),1)])]),e("li",ao,[e("div",so,[G(e("input",{id:"monetary","onUpdate:modelValue":d[14]||(d[14]=m=>l(u).type=m),value:"monetary",name:"name-order",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(u).type]]),e("label",oo,r(b.$t("The loan is monetary")),1)])])])]),e("div",ro,[n(F,{ref_for:!0,ref:"name",modelValue:l(u).name,"onUpdate:modelValue":d[15]||(d[15]=m=>l(u).name=m),label:b.$t("What is the loan?"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:d[16]||(d[16]=m=>c.value=!1)},null,8,["modelValue","label"])]),l(u).type==="monetary"?(a(),s("div",lo,[n(F,{ref_for:!0,ref:"label",modelValue:l(u).amount_lent,"onUpdate:modelValue":d[17]||(d[17]=m=>l(u).amount_lent=m),label:b.$t("How much was lent?"),help:b.$t("Write the amount with a dot if you need decimals, like 100.50"),type:"number",autofocus:!0,"input-class":"w-full",required:!1,min:0,max:1e7,autocomplete:!1,onEscKeyPressed:d[18]||(d[18]=m=>c.value=!1)},null,8,["modelValue","label","help"]),n(B,{modelValue:l(u).currency_id,"onUpdate:modelValue":d[19]||(d[19]=m=>l(u).currency_id=m),data:V.value,required:!1,class:U("mb-5 ms-3"),placeholder:b.$t("Choose a value"),"dropdown-class":"block",label:b.$t("Currency")},null,8,["modelValue","data","placeholder","label"])])):y("",!0),e("div",no,[e("p",io,r(b.$t("When was the loan made?")),1),n(l(re),{modelValue:l(u).loaned_at,"onUpdate:modelValue":d[20]||(d[20]=m=>l(u).loaned_at=m),modelModifiers:{string:!0},class:"inline-block h-full",masks:v.value,locale:b.$page.props.auth.user?.locale_ietf,"is-dark":b.isDark()},{default:P(({inputValue:m,inputEvents:p})=>[e("input",ae({class:"rounded-xs border bg-white px-2 py-1 dark:bg-gray-900",value:m},se(p,!0)),null,16,uo)]),_:1},8,["modelValue","masks","locale","is-dark"])]),e("div",co,[n(ne,{modelValue:l(u).loaners,"onUpdate:modelValue":d[21]||(d[21]=m=>l(u).loaners=m),"search-url":t.layoutData.vault.url.search_contacts_only,"most-consulted-contacts-url":t.layoutData.vault.url.get_most_consulted_contacts,"display-most-consulted-contacts":!1,label:b.$t("Who makes the loan?"),"add-multiple-contacts":!0,required:!0,class:U("flex-1 border-e border-gray-200 p-5 dark:border-gray-700")},null,8,["modelValue","search-url","most-consulted-contacts-url","label"]),n(ne,{modelValue:l(u).loanees,"onUpdate:modelValue":d[22]||(d[22]=m=>l(u).loanees=m),"search-url":t.layoutData.vault.url.search_contacts_only,"most-consulted-contacts-url":t.layoutData.vault.url.get_most_consulted_contacts,"display-most-consulted-contacts":!0,label:b.$t("Who the loan is for?"),"add-multiple-contacts":!0,required:!0,class:U("flex-1 p-5")},null,8,["modelValue","search-url","most-consulted-contacts-url","label"])]),e("div",mo,[n(ie,{modelValue:l(u).description,"onUpdate:modelValue":d[23]||(d[23]=m=>l(u).description=m),label:b.$t("Description"),maxlength:255,"textarea-class":"block w-full"},null,8,["modelValue","label"])])]),l(u).errors.length>0?(a(),s("div",bo,[n(Y,{errors:l(u).errors},null,8,["errors"])])):y("",!0),I.value!==""?(a(),s("div",po,"âš ï¸ "+r(I.value),1)):y("",!0),e("div",yo,[n(H,{text:b.$t("Cancel"),class:U("me-3"),onClick:d[24]||(d[24]=m=>S.value=0)},null,8,["text"]),n(R,{text:b.$t("Save"),state:k.value,icon:"plus",class:U("save")},null,8,["text","state"])])],40,Js)):y("",!0)]))),128))]),x.value.length===0?(a(),s("div",ho,[e("img",{src:"/img/contact_blank_loan.svg",alt:b.$t("Loans"),class:"mx-auto mt-4 h-14 w-14"},null,8,go),e("p",fo,r(b.$t("There are no loans yet.")),1)])):y("",!0)]))}},_o=O(vo,[["__scopeId","data-v-0fbbaaf2"]]),ko={components:{TextInput:F,Errors:Y,Dropdown:B,PrettySpan:H,PrettyButton:R,Pencil:oe},props:{data:{type:Object,default:null}},data(){return{loadingState:"",showDropdownCompanies:!1,showCreateCompanyLink:!1,showCreateCompanyField:!1,editJobInformation:!1,localCompanies:[],company_name:"",form:{job_position:"",company_name:"",company_id:0,errors:[]}}},created(){this.form.job_position=this.data.job_position,this.form.company_id=this.data.company?this.data.company.id:null,this.company_name=this.data.company?this.data.company.name:null},methods:{showEditModal(){this.showDropdownCompanies=!0,this.showCreateCompanyLink=!0,this.showCreateCompanyField=!1,this.editJobInformation=!0,this.getCompanies()},showCreateCompany(){this.showCreateCompanyLink=!1,this.showDropdownCompanies=!1,this.showCreateCompanyField=!0,this.form.company_name="",this.$nextTick().then(()=>{this.$refs.name.focus()})},getCompanies(){this.localCompanies.length>0||axios.get(this.data.url.index).then(t=>{this.localCompanies=t.data.data,this.localCompanies.length===0&&(this.showDropdownCompanies=!1,this.showCreateCompanyLink=!1,this.showCreateCompanyField=!0)}).catch(t=>{this.form.errors=t.response.data})},update(){this.loadingState="loading",axios.put(this.data.url.update,this.form).then(t=>{this.flash(this.$t("The job information has been saved"),"success"),this.editJobInformation=!1,this.loadingState="",this.company_name=t.data.data.company.name,this.localCompanies.push(t.data.data)}).catch(t=>{this.loadingState="",this.form.errors=t.response.data})},reset(){axios.delete(this.data.url.destroy).then(()=>{this.editJobInformation=!1,this.company_name=""}).catch(t=>{this.form.errors=t.response.data})}}},$o={class:"mb-4"},xo={class:"pb-1 mb-2 items-center justify-between border-b border-gray-200 dark:border-gray-700 flex"},wo={class:"text-xs"},Co={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900"},Vo={class:"border-b border-gray-200 p-2 dark:border-gray-700"},So={class:"border-b border-gray-200 p-2 dark:border-gray-700"},Io={class:"flex justify-between p-2"},Uo={class:"border-t border-gray-200 p-2 dark:border-gray-700"},Mo={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},jo={key:2},To={key:0},Po={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},qo={key:1};function Do(t,i,f,k,c,x){const V=q("Pencil"),S=q("errors"),I=q("dropdown"),u=q("text-input"),v=q("pretty-span"),$=q("pretty-button");return a(),s("div",$o,[e("div",xo,[e("div",wo,r(t.$t("Job information")),1),c.editJobInformation?y("",!0):(a(),s("span",{key:0,class:"relative cursor-pointer",onClick:i[0]||(i[0]=(...h)=>x.showEditModal&&x.showEditModal(...h))},[n(V,{class:"h-3 w-3 text-gray-400"})])),c.editJobInformation?(a(),s("span",{key:1,class:"cursor-pointer text-xs text-gray-600 dark:text-gray-400",onClick:i[1]||(i[1]=h=>c.editJobInformation=!1)},r(t.$t("Close")),1)):y("",!0)]),c.editJobInformation?(a(),s("div",Co,[e("form",{onSubmit:i[8]||(i[8]=z((...h)=>x.update&&x.update(...h),["prevent"]))},[e("div",Vo,[n(S,{errors:c.form.errors},null,8,["errors"]),c.showDropdownCompanies?(a(),D(I,{key:0,modelValue:c.form.company_id,"onUpdate:modelValue":i[2]||(i[2]=h=>c.form.company_id=h),modelModifiers:{number:!0},data:c.localCompanies,required:!1,class:U("mb-2"),placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Existing company")},null,8,["modelValue","data","placeholder","label"])):y("",!0),c.showCreateCompanyLink?(a(),s("p",{key:1,class:"cursor-pointer text-sm text-blue-500 hover:underline",onClick:i[3]||(i[3]=h=>x.showCreateCompany())},r(t.$t("Or create a new one")),1)):y("",!0),c.showCreateCompanyField?(a(),D(u,{key:2,ref:"name",modelValue:c.form.company_name,"onUpdate:modelValue":i[4]||(i[4]=h=>c.form.company_name=h),label:t.$t("Company name"),type:"text",autofocus:!0,"input-class":"block w-full",required:!1,autocomplete:!1,maxlength:255},null,8,["modelValue","label"])):y("",!0)]),e("div",So,[n(u,{modelValue:c.form.job_position,"onUpdate:modelValue":i[5]||(i[5]=h=>c.form.job_position=h),label:t.$t("Job position"),type:"text",autofocus:!0,"input-class":"block w-full",required:!1,autocomplete:!1,maxlength:255},null,8,["modelValue","label"])]),e("div",Io,[n(v,{text:t.$t("Cancel"),class:U("me-3"),onClick:i[6]||(i[6]=h=>c.editJobInformation=!1)},null,8,["text"]),n($,{href:"data.url.vault.create",text:t.$t("Save"),state:c.loadingState,icon:"check",class:U("save")},null,8,["text","state"])]),e("div",Uo,[e("p",{class:"cursor-pointer text-sm text-blue-500 hover:underline",onClick:i[7]||(i[7]=h=>x.reset())},r(t.$t("Or reset the fields")),1)])],32)])):y("",!0),!c.form.job_position&&!c.company_name?(a(),s("p",Mo,r(t.$t("Not set")),1)):(a(),s("p",jo,[c.form.job_position?(a(),s("span",To,[L(r(c.form.job_position)+" ",1),c.company_name?(a(),s("span",Po,r(t.$t("at ")),1)):y("",!0)])):y("",!0),c.company_name?(a(),s("span",qo,r(c.company_name),1)):y("",!0)]))])}const Lo=O(ko,[["render",Do],["__scopeId","data-v-83fa0c5a"]]),Eo={components:{InertiaLink:W,PrettyLink:Ge,Avatar:he,UsersRound:tt},props:{data:{type:Object,default:null}},data(){return{localRelationships:[]}},created(){this.localRelationships=this.data.relationship_group_types},methods:{destroy(t){confirm(this.$t("Are you sure? This action cannot be undone."))&&axios.put(t.url.update).then(i=>{this.flash(this.$t("The relationship has been deleted"),"success"),this.localRelationships=i.data.data.relationship_group_types}).catch(i=>{this.form.errors=i.response.data})}}},Ao={class:"mb-10"},Go={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},Fo={class:"mb-2 sm:mb-0 flex items-center gap-2"},Ro={class:"font-semibold"},Ko={key:0,class:"mb-1 font-semibold"},No={key:1,class:"mb-4 rounded-lg border border-gray-200 last:mb-0 dark:border-gray-700"},Oo={class:"flex"},zo={class:"me-2 flex items-center"},Bo={key:1},Yo={key:2,class:"ms-2 text-xs text-gray-400"},Ho={class:"me-2 text-gray-400"},Wo={class:"text-sm"},Jo=["onClick"],Qo={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Zo=["alt"],Xo={class:"px-5 pb-5 pt-2 text-center"};function er(t,i,f,k,c,x){const V=q("UsersRound"),S=q("pretty-link"),I=q("avatar"),u=q("InertiaLink");return a(),s("div",Ao,[e("div",Go,[e("div",Fo,[n(V,{class:"h-4 w-4 text-gray-600"}),e("span",Ro,r(t.$t("Relationships")),1)]),n(S,{text:t.$t("Add a relationship"),icon:"plus",href:f.data.url.create,class:U("w-full sm:w-fit")},null,8,["text","href"])]),e("div",null,[(a(!0),s(E,null,A(c.localRelationships,v=>(a(),s("div",{key:v.id,class:"mb-4"},[v.relationship_types.length>0?(a(),s("h3",Ko,r(v.name),1)):y("",!0),v.relationship_types.length>0?(a(),s("ul",No,[(a(!0),s(E,null,A(v.relationship_types,$=>(a(),s("li",{key:$.id,class:"item-list flex items-center justify-between border-b border-gray-200 px-5 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[e("div",Oo,[e("div",zo,[n(I,{data:$.contact.avatar,class:U("me-2 h-5 w-5")},null,8,["data"]),$.contact.url.show?(a(),D(u,{key:0,href:$.contact.url.show,class:"text-blue-500 hover:underline"},{default:P(()=>[L(r($.contact.name),1)]),_:2},1032,["href"])):(a(),s("span",Bo,r($.contact.name),1)),$.contact.age?(a(),s("span",Yo,"("+r($.contact.age)+")",1)):y("",!0)]),e("span",Ho,r($.relationship_type.name),1)]),e("ul",Wo,[e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:h=>x.destroy($)},r(t.$t("Remove")),9,Jo)])]))),128))])):y("",!0)]))),128))]),f.data.number_of_defined_relations===0?(a(),s("div",Qo,[e("img",{src:"/img/contact_blank_relationship.svg",alt:t.$t("Relationships"),class:"mx-auto mt-4 h-14 w-14"},null,8,Zo),e("p",Xo,r(t.$t("There are no relationships yet.")),1)])):y("",!0)])}const tr=O(Eo,[["render",er],["__scopeId","data-v-a987d07e"]]),ar={class:"border-b border-gray-200 p-5 dark:border-gray-700"},sr={class:"border-b border-gray-200 p-5 dark:border-gray-700"},or={class:"flex items-center"},rr={for:"reminder",class:"ms-2 block cursor-pointer text-sm text-gray-900 dark:text-gray-50"},lr={key:0,class:"ms-4 mt-4"},dr=["value"],nr={class:"flex justify-between p-5"},ir={__name:"CreateOrEditTask",props:{data:Object,task:Object},emits:["close","created","update:task"],setup(t,{expose:i,emit:f}){const k=f,c=t,x=j(""),V=Z("labelInput"),S=j({modelValue:"YYYY-MM-DD"}),I=te({label:"",due_at:"",due_at_checked:!1,errors:[]}),u=()=>{c.task?(I.label=c.task.label,I.due_at=c.task.due_at!==null?c.task.due_at.value:null,I.due_at_checked=c.task.due_at!==null):(I.label="",I.due_at="",I.due_at_checked=!1),X().then(()=>V.value.focus())},v=()=>{x.value="loading";let $={method:"post",url:c.data.url.store,data:I},h="created";c.task&&($.method="put",$.url=c.task.url.update,h="update:task"),axios.request($).then(M=>{x.value="",k(h,M.data.data)}).catch(M=>{x.value="",I.errors=M.response.data})};return i({reset:()=>u()}),($,h)=>(a(),s("form",{class:"rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:h[5]||(h[5]=z(M=>v(),["prevent"]))},[e("div",ar,[n(Y,{errors:l(I).errors},null,8,["errors"]),n(F,{ref_key:"labelInput",ref:V,modelValue:l(I).label,"onUpdate:modelValue":h[0]||(h[0]=M=>l(I).label=M),label:$.$t("Title"),type:"text","input-class":"block w-full mb-3",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:h[1]||(h[1]=M=>$.$emit("close"))},null,8,["modelValue","label"])]),e("div",sr,[e("div",or,[G(e("input",{id:"reminder","onUpdate:modelValue":h[2]||(h[2]=M=>l(I).due_at_checked=M),name:"reminder",type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded-xs border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"},null,512),[[de,l(I).due_at_checked]]),e("label",rr,r($.$t("Add a due date")),1)]),l(I).due_at_checked?(a(),s("div",lr,[n(l(re),{modelValue:l(I).due_at,"onUpdate:modelValue":h[3]||(h[3]=M=>l(I).due_at=M),modelModifiers:{string:!0},class:"inline-block h-full",masks:S.value,locale:$.$page.props.auth.user?.locale_ietf,"is-dark":$.isDark()},{default:P(({inputValue:M,inputEvents:T})=>[e("input",ae({class:"rounded-xs border bg-white px-2 py-1 dark:bg-gray-900",value:M},se(T,!0)),null,16,dr)]),_:1},8,["modelValue","masks","locale","is-dark"])])):y("",!0)]),e("div",nr,[n(H,{text:$.$t("Cancel"),class:U("me-3"),onClick:h[4]||(h[4]=M=>$.$emit("close"))},null,8,["text"]),n(R,{text:$.$t("Save"),state:x.value,icon:"check",class:U("save")},null,8,["text","state"])])],32))}},ce=O(ir,[["__scopeId","data-v-4f7835d4"]]),ur={},cr={xmlns:"http://www.w3.org/2000/svg",class:"me-1 h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"};function mr(t,i){return a(),s("svg",cr,i[0]||(i[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)]))}const we=O(ur,[["render",mr]]),br={class:"mb-10"},pr={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},yr={class:"mb-2 sm:mb-0 flex items-center gap-2"},hr={class:"font-semibold"},gr={key:1,class:"mb-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},fr={key:0,class:"flex items-center justify-between p-3"},vr={class:"flex items-center"},_r=["id","onUpdate:modelValue","name","onChange"],kr=["for"],$r={key:3,class:"mx-4 text-xs"},xr={key:0,class:"flex items-center justify-between p-3"},wr={class:"flex items-center"},Cr=["id","onUpdate:modelValue","name","onChange"],Vr=["for"],Sr={key:0,class:"ms-2 flex items-center rounded-full bg-sky-400/10 px-2 py-0.5 text-xs font-medium leading-5 text-sky-600 dark:text-sky-400"},Ir={key:4,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Ur=["alt"],Mr={class:"px-5 pb-5 pt-2 text-center"},jr={__name:"Tasks",props:{data:Object},setup(t){const i=t,f=Z("createTaskForm"),k=Z("updateTaskForm"),c=Z("updateCompletedTaskForm"),x=j(!1),V=j(!1),S=j(i.data.tasks),I=j([]),u=j(0),v=j(0),$=()=>{x.value=!0,X().then(()=>f.value.reset())},h=o=>{u.value=o.id,X().then(()=>k.value[0].reset())},M=o=>{v.value=o.id,X().then(()=>c.value[0].reset())},T=()=>{axios.get(i.data.url.completed).then(o=>{I.value=o.data.data,V.value=!0})},g=o=>{J(N("The task has been created"),"success"),S.value.unshift(o),x.value=!1},w=o=>{J(N("The task has been updated"),"success"),S.value[S.value.findIndex(m=>m.id===o.id)]=o,u.value=0},C=o=>{J(N("The task has been updated"),"success"),I.value[I.value.findIndex(m=>m.id===o.id)]=o,v.value=0},b=o=>{axios.put(o.url.toggle).catch(m=>{form.errors=m.response.data})},d=o=>{confirm(N("Are you sure? This action cannot be undone."))&&axios.delete(o.url.destroy).then(()=>{J(N("The task has been deleted"),"success");var m=S.value.findIndex(p=>p.id===o.id);S.value.splice(m,1)}).catch(m=>{form.errors=m.response.data})};return(o,m)=>(a(),s("div",br,[e("div",pr,[e("div",yr,[n(l(Fe),{class:"h-4 w-4 text-gray-600"}),e("span",hr,r(o.$t("Tasks")),1)]),n(R,{text:o.$t("Add a task"),icon:"plus",class:U("w-full sm:w-fit"),onClick:m[0]||(m[0]=p=>$())},null,8,["text"])]),x.value?(a(),D(ce,{key:0,class:"mb-6",data:t.data,ref_key:"createTaskForm",ref:f,onCreated:g,onClose:m[1]||(m[1]=p=>x.value=!1)},null,8,["data"])):y("",!0),S.value.length>0?(a(),s("ul",gr,[(a(!0),s(E,null,A(S.value,p=>(a(),s("li",{key:p.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[u.value!==p.id?(a(),s("div",fr,[e("div",vr,[G(e("input",{id:p.id,"onUpdate:modelValue":_=>p.completed=_,name:p.id,type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded-xs border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600",onChange:_=>b(p)},null,40,_r),[[de,p.completed]]),e("label",{for:p.id,class:"ms-2 flex cursor-pointer text-gray-900 dark:text-gray-50"},[L(r(p.label)+" ",1),p.due_at!==null?(a(),s("span",{key:0,class:U([p.due_at.is_late?"bg-red-400/10 text-red-600 dark:bg-red-600/10 dark:text-red-400":"bg-sky-400/10 text-sky-600 dark:bg-sky-600/10 dark:text-sky-400","ms-2 flex items-center rounded-full px-2 py-0.5 text-xs font-medium leading-5"])},[n(we),e("span",null,r(p.due_at.formatted),1)],2)):y("",!0)],8,kr)]),n(ue,{"show-edit":!0,"show-delete":!0,onEdit:_=>h(p),onDelete:_=>d(p)},null,8,["onEdit","onDelete"])])):y("",!0),u.value===p.id?(a(),D(ce,{key:1,class:"mb-3",ref_for:!0,ref_key:"updateTaskForm",ref:k,data:t.data,task:p,"onUpdate:task":w,onClose:m[2]||(m[2]=_=>u.value=0)},null,8,["data","task"])):y("",!0)]))),128))])):y("",!0),t.data.completed_tasks_count>0&&!V.value?(a(),s("p",{key:2,class:"mx-4 mb-6 cursor-pointer text-xs text-blue-500 hover:underline",onClick:m[3]||(m[3]=p=>T())},r(o.$t("Show completed tasks (:count)",{count:t.data.completed_tasks_count})),1)):y("",!0),V.value?(a(),s("div",$r,[(a(!0),s(E,null,A(I.value,p=>(a(),s("ul",{key:p.id,class:"mb-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},[e("li",null,[v.value!==p.id?(a(),s("div",xr,[e("div",wr,[G(e("input",{id:p.id,"onUpdate:modelValue":_=>p.completed=_,name:p.id,type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded-xs border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600",onChange:_=>b(p)},null,40,Cr),[[de,p.completed]]),e("label",{for:p.id,class:"ms-2 flex cursor-pointer items-center text-gray-900 dark:text-gray-50"},[L(r(p.label)+" ",1),p.due_at!==null?(a(),s("span",Sr,[n(we),e("span",null,r(p.due_at.formatted),1)])):y("",!0)],8,Vr)]),n(ue,{"show-edit":!0,"show-delete":!0,onEdit:_=>M(p),onDelete:_=>d(p)},null,8,["onEdit","onDelete"])])):y("",!0),v.value===p.id?(a(),D(ce,{key:1,ref_for:!0,ref_key:"updateCompletedTaskForm",ref:c,data:t.data,task:p,"onUpdate:task":C,onClose:m[4]||(m[4]=_=>v.value=0)},null,8,["data","task"])):y("",!0)])]))),128))])):y("",!0),S.value.length===0?(a(),s("div",Ir,[e("img",{src:"/img/dashboard_blank_tasks.svg",alt:o.$t("Tasks"),class:"mx-auto mt-4 h-14 w-14"},null,8,Ur),e("p",Mr,r(o.$t("There are no tasks yet.")),1)])):y("",!0)]))}},Tr=O(jr,[["__scopeId","data-v-547e156b"]]),Pr={class:"mb-10"},qr={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},Dr={class:"mb-2 sm:mb-0 flex items-center gap-2"},Lr={class:"font-semibold"},Er={key:0,class:"p-5"},Ar={class:"flex border-b border-gray-200 dark:border-gray-700"},Gr={class:"p-5"},Fr={class:"mb-2 block text-sm"},Rr=["value"],Kr={class:"border-e border-gray-200 p-5 dark:border-gray-700"},Nr={class:"mb-2 block text-sm"},Or={class:"flex"},zr={class:"me-6 flex items-center"},Br={for:"audio",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Yr={class:"flex items-center"},Hr={for:"video",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Wr={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Jr={class:"mb-2 block text-sm"},Qr={class:"mb-4 flex"},Zr={class:"me-6 flex items-center"},Xr={for:"me",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},el={class:"flex items-center"},tl={for:"me_not_answered",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},al={class:"flex"},sl={class:"me-6 flex items-center"},ol={for:"contact",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},rl={class:"flex items-center"},ll={for:"contact_not_answered",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},dl={key:1,class:"border-b border-gray-200 p-5 dark:border-gray-700"},nl={key:2,class:"border-b border-gray-200 p-5 dark:border-gray-700"},il={class:"mb-2 block text-sm"},ul=["label"],cl=["value"],ml={key:3,class:"border-b border-gray-200 p-5 dark:border-gray-700"},bl={class:"mb-2"},pl=["id","value"],yl=["for"],hl={class:"border-b border-gray-200 p-5 dark:border-gray-700"},gl={class:"flex justify-between p-5"},fl={key:1,class:"mb-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},vl={key:0,class:"flex items-center justify-between p-3"},_l={class:"flex items-center"},kl={class:"me-2 text-sm text-gray-500"},$l={key:0,class:"me-2 rounded-xs border border-neutral-200 px-2 py-1 text-xs font-semibold text-neutral-800"},xl={key:1,class:"me-2 rounded-xs border border-neutral-200 px-2 py-1 text-xs font-semibold text-neutral-800"},wl={key:2},Cl={key:3,class:"text-xs text-gray-600 dark:text-gray-400"},Vl=["onSubmit"],Sl={class:"border-b border-gray-200 dark:border-gray-700"},Il={class:"flex border-b border-gray-200 dark:border-gray-700"},Ul={class:"p-5"},Ml=["value"],jl={class:"border-e border-gray-200 p-5 dark:border-gray-700"},Tl={class:"mb-2 block text-sm"},Pl={class:"flex"},ql={class:"me-6 flex items-center"},Dl={for:"audio",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Ll={class:"flex items-center"},El={for:"video",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Al={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Gl={class:"mb-2 block text-sm"},Fl={class:"mb-4 flex"},Rl={class:"me-6 flex items-center"},Kl={for:"me",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Nl={class:"flex items-center"},Ol={for:"me_not_answered",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},zl={class:"flex"},Bl={class:"me-6 flex items-center"},Yl={for:"contact",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Hl={class:"flex items-center"},Wl={for:"contact_not_answered",class:"ms-2 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},Jl={key:0,class:"border-b border-gray-200 p-5 dark:border-gray-700"},Ql={key:1,class:"border-b border-gray-200 p-5 dark:border-gray-700"},Zl={class:"mb-2 block text-sm"},Xl=["label"],ed=["value"],td={key:2,class:"border-b border-gray-200 p-5 dark:border-gray-700"},ad={class:"mb-2"},sd=["id","value"],od=["for"],rd={class:"border-b border-gray-200 p-5 dark:border-gray-700"},ld={class:"flex justify-between p-5"},dd={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},nd=["alt"],id={class:"px-5 pb-5 pt-2 text-center"},ud={__name:"Calls",props:{data:Object},setup(t){const i=t,f=j(!1),k=j(i.data.calls),c=j(""),x=j(0),V=j(!1),S=j(!1),I=j(!1),u=j({modelValue:"YYYY-MM-DD"}),v=te({who_initiated:"me",called_at:"",call_reason_id:0,description:"",emotion_id:0,type:"audio",errors:[]}),$=()=>{V.value=!0,v.description=""},h=()=>{S.value=!0,v.call_reason_id=""},M=()=>{I.value=!0,v.emotion_id=1},T=()=>{v.errors=[],V.value=!1,S.value=!1,f.value=!0},g=d=>{v.errors=[],v.description=d.description,d.description&&(V.value=!0),v.type=d.type,!d.answered&&d.who_initiated==="me"?v.who_initiated="me_not_answered":d.answered&&d.who_initiated==="me"?v.who_initiated="me":d.answered&&d.who_initiated==="contact"?v.who_initiated="contact":!d.answered&&d.who_initiated==="contact"&&(v.who_initiated="contact_not_answered"),d.reason?(v.call_reason_id=d.reason.id,S.value=!0):(v.call_reason_id=0,S.value=!1),d.emotion?(v.emotion_id=d.emotion.id,I.value=!0):(v.emotion_id=0,I.value=!1),v.called_at=d.called_at,x.value=d.id},w=()=>{c.value="loading",axios.post(i.data.url.store,v).then(d=>{c.value="",J(N("The call has been created"),"success"),k.value.unshift(d.data.data),f.value=!1}).catch(d=>{c.value="",v.errors=d.response.data})},C=d=>{c.value="loading",axios.put(d.url.update,v).then(o=>{c.value="",J(N("The call has been updated"),"success"),k.value[k.value.findIndex(m=>m.id===d.id)]=o.data.data,x.value=0}).catch(o=>{c.value="",v.errors=o.response.data})},b=d=>{confirm(N("Are you sure? This action cannot be undone."))&&axios.delete(d.url.destroy).then(()=>{J(N("The call has been deleted"),"success");let o=k.value.findIndex(m=>m.id===d.id);k.value.splice(o,1)}).catch(o=>{v.errors=o.response.data})};return(d,o)=>{const m=q("CallIcon");return a(),s("div",Pr,[e("div",qr,[e("div",Dr,[n(l(et),{class:"h-4 w-4 text-gray-600"}),e("span",Lr,r(d.$t("Calls")),1)]),n(R,{text:d.$t("Log a call"),icon:"plus",class:U("w-full sm:w-fit"),onClick:o[0]||(o[0]=p=>T())},null,8,["text"])]),f.value?(a(),s("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:o[12]||(o[12]=z(p=>w(),["prevent"]))},[e("div",null,[l(v).errors.length>0?(a(),s("div",Er,[n(Y,{errors:l(v).errors},null,8,["errors"])])):y("",!0),e("div",Ar,[e("div",Gr,[e("p",Fr,r(d.$t("When did the call happened?")),1),n(l(re),{modelValue:l(v).called_at,"onUpdate:modelValue":o[1]||(o[1]=p=>l(v).called_at=p),modelModifiers:{string:!0},class:"inline-block h-full",masks:u.value,locale:d.$page.props.auth.user?.locale_ietf,"is-dark":d.isDark(),"max-date":new Date},{default:P(({inputValue:p,inputEvents:_})=>[e("input",ae({class:"rounded-xs border bg-white px-2 py-1 dark:bg-gray-900",value:p},se(_,!0)),null,16,Rr)]),_:1},8,["modelValue","masks","locale","is-dark","max-date"])]),e("div",Kr,[e("p",Nr,r(d.$t("Nature of the call")),1),e("div",Or,[e("div",zr,[G(e("input",{id:"audio","onUpdate:modelValue":o[2]||(o[2]=p=>l(v).type=p),value:"audio",name:"type",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).type]]),e("label",Br,r(d.$t("Audio-only call")),1)]),e("div",Yr,[G(e("input",{id:"video","onUpdate:modelValue":o[3]||(o[3]=p=>l(v).type=p),value:"video",name:"type",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).type]]),e("label",Hr,r(d.$t("Video call")),1)])])])]),e("div",Wr,[e("p",Jr,r(d.$t("Who called?")),1),e("div",Qr,[e("div",Zr,[G(e("input",{id:"me","onUpdate:modelValue":o[4]||(o[4]=p=>l(v).who_initiated=p),value:"me",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).who_initiated]]),e("label",Xr,r(d.$t("I called")),1)]),e("div",el,[G(e("input",{id:"me_not_answered","onUpdate:modelValue":o[5]||(o[5]=p=>l(v).who_initiated=p),value:"me_not_answered",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).who_initiated]]),e("label",tl,r(d.$t("I called, but :name didnâ€™t answer",{name:t.data.contact_name})),1)])]),e("div",al,[e("div",sl,[G(e("input",{id:"contact","onUpdate:modelValue":o[6]||(o[6]=p=>l(v).who_initiated=p),value:"contact",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).who_initiated]]),e("label",ol,r(d.$t(":Name called",{name:t.data.contact_name})),1)]),e("div",rl,[G(e("input",{id:"contact_not_answered","onUpdate:modelValue":o[7]||(o[7]=p=>l(v).who_initiated=p),value:"contact_not_answered",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).who_initiated]]),e("label",ll,r(d.$t(":Name called, but I didnâ€™t answer",{name:t.data.contact_name})),1)])])]),V.value?(a(),s("div",dl,[n(ie,{modelValue:l(v).description,"onUpdate:modelValue":o[8]||(o[8]=p=>l(v).description=p),label:d.$t("Description"),rows:10,required:!1,maxlength:65535,"textarea-class":"block w-full mb-3"},null,8,["modelValue","label"])])):y("",!0),S.value?(a(),s("div",nl,[e("p",il,r(d.$t("Was there a reason for the call?")),1),G(e("select",{id:"types","onUpdate:modelValue":o[9]||(o[9]=p=>l(v).call_reason_id=p),name:"types",class:"w-full rounded-md border-gray-300 bg-white px-3 py-2 shadow-xs focus:border-indigo-300 focus:outline-hidden focus:ring-3 focus:ring-indigo-200/50 dark:bg-gray-900 sm:text-sm"},[(a(!0),s(E,null,A(t.data.call_reason_types,p=>(a(),s("optgroup",{key:p.id,label:p.label},[(a(!0),s(E,null,A(p.reasons,_=>(a(),s("option",{key:_.id,value:_.id},r(_.label),9,cl))),128))],8,ul))),128))],512),[[me,l(v).call_reason_id]])])):y("",!0),I.value?(a(),s("div",ml,[e("p",bl,r(d.$t("How did you feel?")),1),(a(!0),s(E,null,A(t.data.emotions,p=>(a(),s("div",{key:p.id,class:"mb-2 flex items-center"},[G(e("input",{id:p.type,"onUpdate:modelValue":o[10]||(o[10]=_=>l(v).emotion_id=_),value:p.id,name:"emotion",type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,pl),[[K,l(v).emotion_id]]),e("label",{for:p.type,class:"ms-2 block cursor-pointer font-medium text-gray-700 dark:text-gray-300"},r(p.name),9,yl)]))),128))])):y("",!0),e("div",hl,[V.value?y("",!0):(a(),s("span",{key:0,class:"me-2 inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:$},r(d.$t("+ add description")),1)),S.value?y("",!0):(a(),s("span",{key:1,class:"me-2 inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:h},r(d.$t("+ add reason")),1)),I.value?y("",!0):(a(),s("span",{key:2,class:"inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:M},r(d.$t("+ add emotion")),1))])]),e("div",gl,[n(H,{text:d.$t("Cancel"),class:U("me-3"),onClick:o[11]||(o[11]=p=>f.value=!1)},null,8,["text"]),n(R,{text:d.$t("Save"),state:c.value,icon:"plus",class:U("save")},null,8,["text","state"])])],32)):y("",!0),k.value.length>0?(a(),s("ul",fl,[(a(!0),s(E,null,A(k.value,p=>(a(),s("li",{key:p.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[x.value!==p.id?(a(),s("div",vl,[e("div",_l,[e("div",null,[n(m,{answered:p.answered},null,8,["answered"])]),e("span",kl,r(p.called_at),1),p.who_initiated==="me"?(a(),s("span",$l,r(d.$t("I called")),1)):(a(),s("span",xl,r(d.$t(":Name called",{name:t.data.contact_name})),1)),p.reason?(a(),s("span",wl,r(p.reason.label),1)):y("",!0),p.emotion?(a(),s("div",Cl,r(p.emotion.name),1)):y("",!0)]),n(ue,{"show-edit":!0,"show-delete":!0,onEdit:_=>g(p),onDelete:_=>b(p)},null,8,["onEdit","onDelete"])])):y("",!0),x.value===p.id?(a(),s("form",{key:1,class:"bg-gray-50 dark:bg-gray-900",onSubmit:z(_=>C(p),["prevent"])},[n(Y,{errors:l(v).errors},null,8,["errors"]),e("div",Sl,[e("div",Il,[e("div",Ul,[o[24]||(o[24]=e("p",{class:"mb-2 block text-sm"},"When did the call happened?",-1)),n(l(re),{modelValue:l(v).called_at,"onUpdate:modelValue":o[13]||(o[13]=_=>l(v).called_at=_),modelModifiers:{string:!0},class:"inline-block h-full",masks:u.value,"is-dark":d.isDark(),"max-date":new Date},{default:P(({inputValue:_,inputEvents:ee})=>[e("input",ae({class:"rounded-xs border bg-white px-2 py-1 dark:bg-gray-900",value:_},se(ee,!0)),null,16,Ml)]),_:1},8,["modelValue","masks","is-dark","max-date"])]),e("div",jl,[e("p",Tl,r(d.$t("Nature of the call")),1),e("div",Pl,[e("div",ql,[G(e("input",{id:"audio","onUpdate:modelValue":o[14]||(o[14]=_=>l(v).type=_),value:"audio",name:"type",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).type]]),e("label",Dl,r(d.$t("Audio-only call")),1)]),e("div",Ll,[G(e("input",{id:"video","onUpdate:modelValue":o[15]||(o[15]=_=>l(v).type=_),value:"video",name:"type",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).type]]),e("label",El,r(d.$t("Video call")),1)])])])]),e("div",Al,[e("p",Gl,r(d.$t("Who called?")),1),e("div",Fl,[e("div",Rl,[G(e("input",{id:"me","onUpdate:modelValue":o[16]||(o[16]=_=>l(v).who_initiated=_),value:"me",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).who_initiated]]),e("label",Kl,r(d.$t("I called")),1)]),e("div",Nl,[G(e("input",{id:"me_not_answered","onUpdate:modelValue":o[17]||(o[17]=_=>l(v).who_initiated=_),value:"me_not_answered",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).who_initiated]]),e("label",Ol,r(d.$t("I called, but :name didnâ€™t answer",{name:t.data.contact_name})),1)])]),e("div",zl,[e("div",Bl,[G(e("input",{id:"contact","onUpdate:modelValue":o[18]||(o[18]=_=>l(v).who_initiated=_),value:"contact",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).who_initiated]]),e("label",Yl,r(d.$t(":Name called",{name:t.data.contact_name})),1)]),e("div",Hl,[G(e("input",{id:"contact_not_answered","onUpdate:modelValue":o[19]||(o[19]=_=>l(v).who_initiated=_),value:"contact_not_answered",name:"who_initiated",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,512),[[K,l(v).who_initiated]]),e("label",Wl,r(d.$t(":Name called, but I didnâ€™t answer",{name:t.data.contact_name})),1)])])]),V.value?(a(),s("div",Jl,[n(ie,{modelValue:l(v).description,"onUpdate:modelValue":o[20]||(o[20]=_=>l(v).description=_),label:d.$t("Description"),rows:10,required:!1,maxlength:65535,"textarea-class":"block w-full mb-3"},null,8,["modelValue","label"])])):y("",!0),S.value?(a(),s("div",Ql,[e("p",Zl,r(d.$t("Was there a reason for the call?")),1),G(e("select",{id:"types","onUpdate:modelValue":o[21]||(o[21]=_=>l(v).call_reason_id=_),name:"types",class:"w-full rounded-md border-gray-300 bg-white px-3 py-2 shadow-xs focus:border-indigo-300 focus:outline-hidden focus:ring-3 focus:ring-indigo-200/50 dark:bg-gray-900 sm:text-sm"},[(a(!0),s(E,null,A(t.data.call_reason_types,_=>(a(),s("optgroup",{key:_.id,label:_.label},[(a(!0),s(E,null,A(_.reasons,ee=>(a(),s("option",{key:ee.id,value:ee.id},r(ee.label),9,ed))),128))],8,Xl))),128))],512),[[me,l(v).call_reason_id]])])):y("",!0),I.value?(a(),s("div",td,[e("p",ad,r(d.$t("How did you feel?")),1),(a(!0),s(E,null,A(t.data.emotions,_=>(a(),s("div",{key:_.id,class:"mb-2 flex items-center"},[G(e("input",{id:_.type,"onUpdate:modelValue":o[22]||(o[22]=ee=>l(v).emotion_id=ee),value:_.id,name:"emotion",type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,sd),[[K,l(v).emotion_id]]),e("label",{for:_.type,class:"ms-2 block cursor-pointer font-medium text-gray-700 dark:text-gray-300"},r(_.name),9,od)]))),128))])):y("",!0),e("div",rd,[V.value?y("",!0):(a(),s("span",{key:0,class:"me-2 inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:$},r(d.$t("+ add description")),1)),S.value?y("",!0):(a(),s("span",{key:1,class:"me-2 inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:h},r(d.$t("+ add reason")),1)),I.value?y("",!0):(a(),s("span",{key:2,class:"inline-block cursor-pointer rounded-lg border bg-slate-200 px-1 py-1 text-xs hover:bg-slate-300",onClick:M},r(d.$t("+ add emotion")),1))])]),e("div",ld,[n(H,{text:d.$t("Cancel"),class:U("me-3"),onClick:o[23]||(o[23]=_=>x.value=0)},null,8,["text"]),n(R,{text:d.$t("Update"),state:c.value,icon:"check",class:U("save")},null,8,["text","state"])])],40,Vl)):y("",!0)]))),128))])):y("",!0),k.value.length===0?(a(),s("div",dd,[e("img",{src:"/img/contact_blank_call.svg",alt:d.$t("Calls"),class:"mx-auto mt-4 h-20 w-20"},null,8,nd),e("p",id,r(d.$t("There are no calls logged yet.")),1)])):y("",!0)])}}},cd=O(ud,[["__scopeId","data-v-91eb99f6"]]),md={components:{PrettyButton:R,PrettySpan:H,TextInput:F,Dropdown:B,Errors:Y,Dog:Be},props:{data:{type:Object,default:null}},data(){return{loadingState:"",addPetModalShown:!1,localPets:[],editedPetId:0,form:{name:"",pet_category_id:0,errors:[]}}},created(){this.localPets=this.data.pets},methods:{showCreatePetModal(){this.addPetModalShown=!0,this.form.errors=[],this.form.name="",this.form.pet_category_id=0,this.$nextTick().then(()=>{this.$refs.newName.focus()})},showEditPetModal(t){this.form.errors=[],this.editedPetId=t.id,this.form.pet_category_id=t.pet_category.id,this.form.name=t.name},submit(){this.loadingState="loading",axios.post(this.data.url.store,this.form).then(t=>{this.flash(this.$t("The pet has been added"),"success"),this.localPets.unshift(t.data.data),this.loadingState="",this.addPetModalShown=!1}).catch(t=>{this.loadingState="",this.form.errors=t.response.data})},update(t){this.loadingState="loading",axios.put(t.url.update,this.form).then(i=>{this.loadingState="",this.flash(this.$t("The pet has been updated"),"success"),this.localPets[this.localPets.findIndex(f=>f.id===t.id)]=i.data.data,this.editedPetId=0}).catch(i=>{this.loadingState="",this.form.errors=i.response.data})},destroy(t){confirm(this.$t("Are you sure? This action cannot be undone."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("The pet has been deleted"),"success");var i=this.localPets.findIndex(f=>f.id===t.id);this.localPets.splice(i,1)}).catch(i=>{this.loadingState=null,this.form.errors=i.response.data})}}},bd={class:"mb-10"},pd={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 flex"},yd={class:"mb-2 sm:mb-0 flex items-center gap-2"},hd={class:"font-semibold"},gd={class:"border-b border-gray-200 dark:border-gray-700"},fd={key:0,class:"p-5"},vd={class:"border-b border-gray-200 p-5 dark:border-gray-700"},_d={class:"p-5"},kd={class:"flex justify-between p-5"},$d={key:1},xd={class:"mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},wd={key:0,class:"flex items-center justify-between px-3 py-2"},Cd={class:"flex items-center"},Vd={class:"me-2 text-sm text-gray-500"},Sd={class:"me-2"},Id={class:"text-sm"},Ud=["onClick"],Md={class:"cursor-pointer text-blue-500 hover:underline"},jd=["onClick"],Td=["onSubmit"],Pd={class:"border-b border-gray-200 dark:border-gray-700"},qd={key:0,class:"p-5"},Dd={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Ld={class:"p-5"},Ed={class:"flex justify-between p-5"},Ad={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Gd=["alt"],Fd={class:"px-5 pb-5 pt-2 text-center"};function Rd(t,i,f,k,c,x){const V=q("Dog"),S=q("pretty-button"),I=q("errors"),u=q("text-input"),v=q("dropdown"),$=q("pretty-span");return a(),s("div",bd,[e("div",pd,[e("div",yd,[n(V,{class:"h-4 w-4 text-gray-600"}),e("span",hd,r(t.$t("Pets")),1)]),n(S,{text:t.$t("Add a pet"),icon:"plus",class:U("w-full sm:w-fit"),onClick:x.showCreatePetModal},null,8,["text","onClick"])]),c.addPetModalShown?(a(),s("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:i[4]||(i[4]=z(h=>x.submit(),["prevent"]))},[e("div",gd,[c.form.errors.length>0?(a(),s("div",fd,[n(I,{errors:c.form.errors},null,8,["errors"])])):y("",!0),e("div",vd,[n(u,{ref:"newName",modelValue:c.form.name,"onUpdate:modelValue":i[0]||(i[0]=h=>c.form.name=h),label:t.$t("Name of the pet"),type:"text",autofocus:!0,"input-class":"block w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[1]||(i[1]=h=>c.addPetModalShown=!1)},null,8,["modelValue","label"])]),e("div",_d,[n(v,{modelValue:c.form.pet_category_id,"onUpdate:modelValue":i[2]||(i[2]=h=>c.form.pet_category_id=h),modelModifiers:{number:!0},data:f.data.pet_categories,required:!0,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Pet category")},null,8,["modelValue","data","placeholder","label"])])]),e("div",kd,[n($,{text:t.$t("Cancel"),class:U("me-3"),onClick:i[3]||(i[3]=h=>c.addPetModalShown=!1)},null,8,["text"]),n(S,{text:t.$t("Save"),state:c.loadingState,icon:"plus",class:U("save")},null,8,["text","state"])])],32)):y("",!0),c.localPets.length>0?(a(),s("div",$d,[e("ul",xd,[(a(!0),s(E,null,A(c.localPets,h=>(a(),s("li",{key:h.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[c.editedPetId!==h.id?(a(),s("div",wd,[e("div",Cd,[e("span",Vd,r(h.pet_category.name),1),e("span",Sd,r(h.name),1)]),e("ul",Id,[e("li",{class:"me-4 inline",onClick:M=>x.showEditPetModal(h)},[e("span",Md,r(t.$t("Edit")),1)],8,Ud),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:M=>x.destroy(h)},r(t.$t("Delete")),9,jd)])])):y("",!0),c.editedPetId===h.id?(a(),s("form",{key:1,class:"bg-gray-50 dark:bg-gray-900",onSubmit:z(M=>x.update(h),["prevent"])},[e("div",Pd,[c.form.errors.length>0?(a(),s("div",qd,[n(I,{errors:c.form.errors},null,8,["errors"])])):y("",!0),e("div",Dd,[n(u,{ref_for:!0,ref:"label",modelValue:c.form.name,"onUpdate:modelValue":i[5]||(i[5]=M=>c.form.name=M),label:t.$t("Name of the pet"),type:"text",autofocus:!0,"input-class":"block w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:i[6]||(i[6]=M=>c.addPetModalShown=!1)},null,8,["modelValue","label"])]),e("div",Ld,[n(v,{modelValue:c.form.pet_category_id,"onUpdate:modelValue":i[7]||(i[7]=M=>c.form.pet_category_id=M),modelModifiers:{number:!0},data:f.data.pet_categories,required:!0,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Pet category")},null,8,["modelValue","data","placeholder","label"])])]),e("div",Ed,[n($,{text:t.$t("Cancel"),class:U("me-3"),onClick:i[8]||(i[8]=M=>c.editedPetId=0)},null,8,["text"]),n(S,{text:t.$t("Save"),state:c.loadingState,icon:"check",class:U("save")},null,8,["text","state"])])],40,Td)):y("",!0)]))),128))])])):y("",!0),c.localPets.length===0?(a(),s("div",Ad,[e("img",{src:"/img/contact_blank_pet.svg",alt:t.$t("Pets"),class:"mx-auto mt-4 h-16 w-16"},null,8,Gd),e("p",Fd,r(t.$t("There are no pets yet.")),1)])):y("",!0)])}const Kd=O(md,[["render",Rd],["__scopeId","data-v-2cf1e05f"]]),Nd={components:{InertiaLink:W,PrettyButton:R,PrettySpan:H,TextInput:F,Errors:Y,Crosshair:ze},props:{data:{type:Object,default:null}},data(){return{loadingState:"",localGoals:[],editedGoalId:0,createGoalModalShown:!1,form:{name:"",errors:[]}}},created(){this.localGoals=this.data.active_goals},methods:{showCreateGoalModal(){this.form.errors=[],this.form.name="",this.createGoalModalShown=!0,this.$nextTick().then(()=>{this.$refs.newName.focus()})},showEditGoalModal(t){this.editedGoalId=t.id,this.form.name=t.name},submit(){axios.post(this.data.url.store,this.form).then(t=>{this.flash(this.$t("The goal has been created"),"success"),this.localGoals.unshift(t.data.data),this.createGoalModalShown=!1}).catch(t=>{this.form.errors=t.response.data})},toggleStreak(t,i){this.form.happened_at=i.happened_at,axios.put(t.url.streak_update,this.form).then(f=>{this.flash(this.$t("The goal has been updated"),"success"),this.localGoals[this.localGoals.findIndex(k=>k.id===t.id)]=f.data.data,this.editedGoalId=0}).catch(f=>{this.form.errors=f.response.data})},destroy(t){confirm(this.$t("Are you sure? This action cannot be undone."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("The goal has been deleted"),"success");var i=this.localGoals.findIndex(f=>f.id===t.id);this.localGoals.splice(i,1)}).catch(i=>{this.loadingState=null,this.form.errors=i.response.data})}}},Od={class:"mb-10"},zd={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},Bd={class:"mb-2 sm:mb-0 flex items-center gap-2"},Yd={class:"font-semibold"},Hd={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Wd={class:"flex justify-between p-5"},Jd={key:1},Qd={key:0},Zd={class:"flex items-center justify-between border-b border-gray-200 p-3 dark:border-gray-700"},Xd={class:"font-semibold text-gray-600 dark:text-gray-400"},en={class:"flex flex-col sm:flex-row sm:justify-between"},tn={class:"flex flex-col p-0 sm:flex-row sm:p-3"},an={class:"mb-0 me-2 block text-xs font-semibold sm:me-0"},sn={class:"me-2 sm:me-0"},on=["onClick"],rn=["onClick"],ln={class:"rounded-md border border-gray-200 bg-slate-100 px-2 py-1 dark:border-gray-700 dark:bg-slate-900"},dn={class:"flex justify-between p-3"},nn={class:"me-6 flex items-center"},un={class:"me-3 w-14 text-right text-sm text-gray-500"},cn={class:"text-4xl"},mn={class:"flex items-center"},bn={class:"me-3 w-14 text-right text-sm text-gray-500"},pn={class:"text-4xl"},yn={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},hn=["alt"],gn={class:"px-5 pb-5 pt-2 text-center"};function fn(t,i,f,k,c,x){const V=q("Crosshair"),S=q("pretty-button"),I=q("errors"),u=q("text-input"),v=q("pretty-span"),$=q("InertiaLink"),h=q("FaceIcon");return a(),s("div",Od,[e("div",zd,[e("div",Bd,[n(V,{class:"h-4 w-4 text-gray-600"}),e("span",Yd,r(t.$t("Goals")),1)]),n(S,{text:t.$t("Add a goal"),icon:"plus",class:U("w-full sm:w-fit"),onClick:x.showCreateGoalModal},null,8,["text","onClick"])]),c.createGoalModalShown?(a(),s("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:i[3]||(i[3]=z(M=>x.submit(),["prevent"]))},[e("div",Hd,[n(I,{errors:c.form.errors},null,8,["errors"]),n(u,{ref:"newName",modelValue:c.form.name,"onUpdate:modelValue":i[0]||(i[0]=M=>c.form.name=M),label:t.$t("Name"),type:"text","input-class":"block w-full mb-3",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:i[1]||(i[1]=M=>c.createGoalModalShown=!1)},null,8,["modelValue","label"])]),e("div",Wd,[n(v,{text:t.$t("Cancel"),class:U("me-3"),onClick:i[2]||(i[2]=M=>c.createGoalModalShown=!1)},null,8,["text"]),n(S,{text:t.$t("Save"),state:c.loadingState,icon:"check",class:U("save")},null,8,["text","state"])])],32)):y("",!0),c.localGoals.length>0?(a(),s("div",Jd,[(a(!0),s(E,null,A(c.localGoals,M=>(a(),s("div",{key:M.id,class:"mb-4 rounded-xs border border-gray-200 last:mb-0 dark:border-gray-700 dark:bg-gray-900"},[c.editedGoalId!==M.id?(a(),s("div",Qd,[e("div",Zd,[e("div",Xd,r(M.name),1),e("div",null,[n($,{href:M.url.show,class:"text-sm text-blue-500 hover:underline"},{default:P(()=>[L(r(t.$t("View details")),1)]),_:2},1032,["href"])])]),e("div",en,[e("div",tn,[(a(!0),s(E,null,A(M.last_7_days,T=>(a(),s("div",{key:T.id,class:U(["me-0 flex flex-row items-center justify-between border-b border-gray-200 p-3 text-center dark:border-gray-700 sm:mb-0 sm:me-7 sm:w-9 sm:flex-col sm:border-0 sm:p-0",{"text-gray-500":!T.active}])},[e("div",null,[e("span",an,r(T.day),1),e("span",sn,r(T.day_number),1)]),T.active?(a(),s("span",{key:0,class:"me-2 cursor-pointer text-2xl sm:me-0",onClick:g=>x.toggleStreak(M,T)},"ðŸ‘",8,on)):(a(),s("span",{key:1,class:"me-2 cursor-pointer text-center text-2xl sm:me-0",onClick:g=>x.toggleStreak(M,T)},[e("div",ln,[n(h)])],8,rn))],2))),128))]),e("div",dn,[e("div",nn,[e("div",un,r(t.$t("Current streak")),1),e("div",cn,r(M.streaks_statistics.current_streak),1)]),e("div",mn,[e("div",bn,r(t.$t("Longest streak")),1),e("div",pn,r(M.streaks_statistics.max_streak),1)])])])])):y("",!0)]))),128))])):y("",!0),c.localGoals.length===0?(a(),s("div",yn,[e("img",{src:"/img/contact_blank_goal.svg",alt:t.$t("Goals"),class:"mx-auto mt-4 h-14 w-14"},null,8,hn),e("p",gn,r(t.$t("There are no goals yet.")),1)])):y("",!0)])}const vn=O(Nd,[["render",fn],["__scopeId","data-v-b58b68f5"]]),_n={class:"mb-10"},kn={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},$n={class:"mb-2 sm:mb-0 flex items-center gap-2"},xn={class:"font-semibold"},wn={key:0,class:"mb-2 border-b border-gray-200 p-5 dark:border-gray-700"},Cn={class:"mb-2 flex items-center"},Vn=["checked"],Sn={for:"chooseExisting",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},In={class:"flex items-center"},Un=["checked"],Mn={for:"createNew",class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},jn={key:1,class:"h-40 overflow-auto border-b border-gray-200 p-3 dark:border-gray-700"},Tn={class:"rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Pn={class:"flex items-center"},qn=["id","value"],Dn=["for"],Ln={key:2,class:"border-b border-gray-200 dark:border-gray-700"},En={key:0,class:"p-5"},An={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},Gn={class:"grid gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},Fn={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},Rn={class:"grid grid-cols-3 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},Kn={class:"p-5"},Nn=["id","name"],On=["for"],zn={class:"flex justify-between p-5"},Bn={key:1,class:"mb-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Yn={key:0,class:"flex items-center justify-between p-3"},Hn={key:0,class:"mb-2 text-sm font-semibold"},Wn={key:0},Jn={key:1},Qn={key:2},Zn={key:3},Xn={class:"text-sm"},ei={class:"me-2 inline"},ti=["href"],ai=["onClick"],si=["onClick"],oi=["onSubmit"],ri={class:"border-b border-gray-200 dark:border-gray-700"},li={key:0,class:"p-5"},di={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},ni={class:"grid gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},ii={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},ui={class:"grid grid-cols-3 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},ci={class:"p-5"},mi=["id","name"],bi=["for"],pi={class:"flex justify-between p-5"},yi={key:2,class:"mb-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},hi=["alt"],gi={class:"px-5 pb-5 pt-2 text-center"},fi={key:4,class:"mx-4 mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},vi={key:0,class:"flex items-center justify-between p-3"},_i={key:0,class:"mb-2 text-sm font-semibold"},ki={key:0},$i={key:1},xi={key:2},wi={key:3},Ci={class:"text-sm"},Vi={class:"me-2 inline"},Si=["href"],Ii=["onClick"],Ui=["onClick"],Mi=["onSubmit"],ji={class:"border-b border-gray-200 dark:border-gray-700"},Ti={key:0,class:"p-5"},Pi={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},qi={class:"grid gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},Di={class:"grid grid-cols-2 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},Li={class:"grid grid-cols-3 gap-4 border-b border-gray-200 p-5 dark:border-gray-700"},Ei={class:"p-5"},Ai={for:"is_past_address",class:"ms-2 cursor-pointer text-gray-900 dark:text-gray-100"},Gi={class:"flex justify-between p-5"},Fi={__name:"Addresses",props:{layoutData:Object,data:Object},setup(t){const i=t,f=j(""),k=j(!1),c=j(!1),x=j(i.data.active_addresses),V=j(i.data.inactive_addresses),S=j(0),I=j(i.data.active_addresses.length>0),u=j(!1),v=j(!1),$=j(null),h=te({existing_address:!1,existing_address_id:0,type:"",address_type_id:0,is_past_address:!1,line_1:"",line_2:"",city:"",province:"",postal_code:"",country:"",errors:[]}),M=()=>{h.errors=[],h.is_past_address=!1,h.address_type_id=0,h.line_1="",h.line_2="",h.city="",h.province="",h.postal_code="",h.country="",k.value=!0},T=()=>{c.value=!c.value},g=o=>{S.value=o.id,h.errors=[],h.is_past_address=o.is_past_address,h.address_type_id=o.type?o.type.id:0,h.line_1=o.line_1,h.line_2=o.line_2,h.city=o.city,h.province=o.province,h.postal_code=o.postal_code,h.country=o.country},w=o=>{$.value=o,u.value=!0},C=()=>{f.value="loading",h.existing_address=I.value,axios.post(i.data.url.store,h).then(o=>{h.is_past_address?V.value.unshift(o.data.data):x.value.unshift(o.data.data),f.value="",k.value=!1}).catch(o=>{f.value="",h.errors=o.response.data})},b=o=>{f.value="loading",axios.put(o.url.update,h).then(m=>{f.value="",h.is_past_address?V.value[V.value.findIndex(p=>p.id===o.id)]=m.data.data:x.value[x.value.findIndex(p=>p.id===o.id)]=m.data.data,S.value=0}).catch(m=>{f.value="",h.errors=m.response.data})},d=()=>{v.value=!0,axios.delete($.value.url.destroy).then(()=>{if(v.value=!1,$.value.is_past_address){const o=V.value.findIndex(m=>m.id===$.value.id);V.value.splice(o,1)}else{const o=x.value.findIndex(m=>m.id===$.value.id);x.value.splice(o,1)}u.value=!1}).catch(o=>{f.value=null,h.errors=o.response.data})};return(o,m)=>(a(),s("div",_n,[e("div",kn,[e("div",$n,[n(l(Ze),{class:"h-4 w-4 text-gray-600"}),e("span",xn,r(o.$t("Addresses")),1)]),n(R,{text:o.$t("Add an address"),icon:"plus",class:U("w-full sm:w-fit"),onClick:M},null,8,["text"])]),e("div",null,[k.value?(a(),s("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:m[18]||(m[18]=z(p=>C(),["prevent"]))},[t.data.addresses_in_vault.length>0?(a(),s("div",wn,[e("div",Cn,[e("input",{id:"chooseExisting",checked:I.value,onChange:m[0]||(m[0]=p=>I.value=!0),name:"exist",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,40,Vn),e("label",Sn,r(o.$t("Choose an existing address")),1)]),e("div",In,[e("input",{id:"createNew",checked:!I.value,onChange:m[1]||(m[1]=p=>I.value=!1),name:"exist",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,40,Un),e("label",Mn,r(o.$t("Create a new address")),1)])])):y("",!0),I.value&&i.data.addresses_in_vault.length>0?(a(),s("div",jn,[e("ul",Tn,[(a(!0),s(E,null,A(i.data.addresses_in_vault,p=>(a(),s("li",{key:p.id,class:"item-list border-b border-gray-200 px-3 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[e("div",Pn,[G(e("input",{id:"address-"+p.id,"onUpdate:modelValue":m[2]||(m[2]=_=>l(h).existing_address_id=_),value:p.id,name:"date-format",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,8,qn),[[K,l(h).existing_address_id]]),e("label",{for:"address-"+p.id,class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},r(p.address),9,Dn)])]))),128))])])):y("",!0),!I.value||i.data.addresses_in_vault.length===0?(a(),s("div",Ln,[l(h).errors.length>0?(a(),s("div",En,[n(Y,{errors:l(h).errors},null,8,["errors"])])):y("",!0),e("div",An,[n(B,{modelValue:l(h).address_type_id,"onUpdate:modelValue":m[3]||(m[3]=p=>l(h).address_type_id=p),modelModifiers:{number:!0},data:t.data.address_types,required:!1,placeholder:o.$t("Choose a value"),"dropdown-class":"block w-full",label:o.$t("Address type")},null,8,["modelValue","data","placeholder","label"])]),e("div",Gn,[n(F,{ref:"line_1",modelValue:l(h).line_1,"onUpdate:modelValue":m[4]||(m[4]=p=>l(h).line_1=p),label:o.$t("Address"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[5]||(m[5]=p=>k.value=!1)},null,8,["modelValue","label"])]),e("div",Fn,[n(F,{ref:"line_2",modelValue:l(h).line_2,"onUpdate:modelValue":m[6]||(m[6]=p=>l(h).line_2=p),label:o.$t("Apartment, suite, etcâ€¦"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[7]||(m[7]=p=>k.value=!1)},null,8,["modelValue","label"]),n(F,{modelValue:l(h).city,"onUpdate:modelValue":m[8]||(m[8]=p=>l(h).city=p),label:o.$t("City"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[9]||(m[9]=p=>k.value=!1)},null,8,["modelValue","label"])]),e("div",Rn,[n(F,{modelValue:l(h).province,"onUpdate:modelValue":m[10]||(m[10]=p=>l(h).province=p),label:o.$t("Province"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[11]||(m[11]=p=>k.value=!1)},null,8,["modelValue","label"]),n(F,{modelValue:l(h).postal_code,"onUpdate:modelValue":m[12]||(m[12]=p=>l(h).postal_code=p),label:o.$t("Postal code"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[13]||(m[13]=p=>k.value=!1)},null,8,["modelValue","label"]),n(F,{modelValue:l(h).country,"onUpdate:modelValue":m[14]||(m[14]=p=>l(h).country=p),label:o.$t("Country"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[15]||(m[15]=p=>k.value=!1)},null,8,["modelValue","label"])]),e("div",Kn,[G(e("input",{id:l(h).is_past_address,"onUpdate:modelValue":m[16]||(m[16]=p=>l(h).is_past_address=p),name:l(h).is_past_address,type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded-xs border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"},null,8,Nn),[[de,l(h).is_past_address]]),e("label",{for:l(h).is_past_address,class:"ms-2 cursor-pointer text-gray-900 dark:text-gray-100"},r(o.$t("This address is not active anymore")),9,On)])])):y("",!0),e("div",zn,[n(H,{text:o.$t("Cancel"),class:U("me-3"),onClick:m[17]||(m[17]=p=>k.value=!1)},null,8,["text"]),n(R,{text:o.$t("Save"),state:f.value,icon:"plus",class:U("save")},null,8,["text","state"])])],32)):y("",!0),x.value.length>0?(a(),s("div",Bn,[(a(!0),s(E,null,A(x.value,p=>(a(),s("div",{key:p.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[p.id!==S.value?(a(),s("div",Yn,[e("div",null,[p.type?(a(),s("p",Hn,r(p.type.name),1)):y("",!0),e("div",null,[p.line_1?(a(),s("p",Wn,r(p.line_1),1)):y("",!0),p.line_2?(a(),s("p",Jn,r(p.line_2),1)):y("",!0),p.postal_code||p.city?(a(),s("p",Qn,r(p.postal_code)+" "+r(p.city),1)):y("",!0),p.country?(a(),s("p",Zn,r(p.country),1)):y("",!0)])]),e("ul",Xn,[e("li",ei,[e("a",{href:p.url.show,target:"_blank",class:"me-2 text-sm text-blue-500 hover:underline"},r(o.$t("View on map")),9,ti)]),e("li",{class:"inline cursor-pointer text-blue-500 hover:underline",onClick:_=>g(p)},r(o.$t("Edit")),9,ai),e("li",{class:"ms-4 inline cursor-pointer text-red-500 hover:text-red-900",onClick:_=>w(p)},r(o.$t("Delete")),9,si)])])):y("",!0),p.id===S.value?(a(),s("form",{key:1,class:"bg-gray-50 dark:bg-gray-900",onSubmit:z(_=>b(p),["prevent"])},[e("div",ri,[l(h).errors.length>0?(a(),s("div",li,[n(Y,{errors:l(h).errors},null,8,["errors"])])):y("",!0),e("div",di,[n(B,{modelValue:l(h).address_type_id,"onUpdate:modelValue":m[19]||(m[19]=_=>l(h).address_type_id=_),modelModifiers:{number:!0},data:t.data.address_types,required:!1,placeholder:o.$t("Choose a value"),"dropdown-class":"block w-full",label:o.$t("Address type")},null,8,["modelValue","data","placeholder","label"])]),e("div",ni,[n(F,{ref_for:!0,ref:"line_1",modelValue:l(h).line_1,"onUpdate:modelValue":m[20]||(m[20]=_=>l(h).line_1=_),label:o.$t("Address"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[21]||(m[21]=_=>k.value=!1)},null,8,["modelValue","label"])]),e("div",ii,[n(F,{ref_for:!0,ref:"line_2",modelValue:l(h).line_2,"onUpdate:modelValue":m[22]||(m[22]=_=>l(h).line_2=_),label:o.$t("Apartment, suite, etcâ€¦"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[23]||(m[23]=_=>k.value=!1)},null,8,["modelValue","label"]),n(F,{modelValue:l(h).city,"onUpdate:modelValue":m[24]||(m[24]=_=>l(h).city=_),label:o.$t("City"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[25]||(m[25]=_=>k.value=!1)},null,8,["modelValue","label"])]),e("div",ui,[n(F,{modelValue:l(h).province,"onUpdate:modelValue":m[26]||(m[26]=_=>l(h).province=_),label:o.$t("Province"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[27]||(m[27]=_=>k.value=!1)},null,8,["modelValue","label"]),n(F,{modelValue:l(h).postal_code,"onUpdate:modelValue":m[28]||(m[28]=_=>l(h).postal_code=_),label:o.$t("Postal code"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[29]||(m[29]=_=>k.value=!1)},null,8,["modelValue","label"]),n(F,{modelValue:l(h).country,"onUpdate:modelValue":m[30]||(m[30]=_=>l(h).country=_),label:o.$t("Country"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[31]||(m[31]=_=>k.value=!1)},null,8,["modelValue","label"])]),e("div",ci,[G(e("input",{id:l(h).is_past_address,"onUpdate:modelValue":m[32]||(m[32]=_=>l(h).is_past_address=_),name:l(h).is_past_address,type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded-xs border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"},null,8,mi),[[de,l(h).is_past_address]]),e("label",{for:l(h).is_past_address,class:"ms-2 cursor-pointer text-gray-900 dark:text-gray-100"},r(o.$t("This address is not active anymore")),9,bi)])]),e("div",pi,[n(H,{text:o.$t("Cancel"),class:U("me-3"),onClick:m[33]||(m[33]=_=>S.value=0)},null,8,["text"]),n(R,{text:o.$t("Save"),state:f.value,icon:"plus",class:U("save")},null,8,["text","state"])])],40,oi)):y("",!0)]))),128))])):y("",!0),x.value.length===0?(a(),s("div",yi,[e("img",{src:"/img/contact_blank_address.svg",alt:o.$t("Addresses"),class:"mx-auto mt-4 h-14 w-14"},null,8,hi),e("p",gi,r(o.$t("There are no active addresses yet.")),1)])):y("",!0),V.value.length>0?(a(),s("p",{key:3,class:"mx-4 mb-2 cursor-pointer text-xs text-blue-500 hover:underline",onClick:T},r(o.$t("Previous addresses"))+" ("+r(V.value.length)+") ",1)):y("",!0),V.value.length>0&&c.value?(a(),s("div",fi,[(a(!0),s(E,null,A(V.value,p=>(a(),s("div",{key:p.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[p.id!==S.value?(a(),s("div",vi,[e("div",null,[p.type?(a(),s("p",_i,r(p.type.name),1)):y("",!0),e("div",null,[p.line_1?(a(),s("p",ki,r(p.line_1),1)):y("",!0),p.line_2?(a(),s("p",$i,r(p.line_2),1)):y("",!0),p.postal_code||p.city?(a(),s("p",xi,r(p.postal_code)+" "+r(p.city),1)):y("",!0),p.country?(a(),s("p",wi,r(p.country),1)):y("",!0)])]),e("ul",Ci,[e("li",Vi,[e("a",{href:p.url.show,target:"_blank",class:"me-2 text-sm text-blue-500 hover:underline"},r(o.$t("View on map")),9,Si)]),e("li",{class:"inline cursor-pointer text-blue-500 hover:underline",onClick:_=>g(p)},r(o.$t("Edit")),9,Ii),e("li",{class:"ms-4 inline cursor-pointer text-red-500 hover:text-red-900",onClick:_=>d()},r(o.$t("Delete")),9,Ui)])])):y("",!0),p.id===S.value?(a(),s("form",{key:1,class:"bg-gray-50 dark:bg-gray-900",onSubmit:z(_=>b(p),["prevent"])},[e("div",ji,[l(h).errors.length>0?(a(),s("div",Ti,[n(Y,{errors:l(h).errors},null,8,["errors"])])):y("",!0),e("div",Pi,[n(B,{modelValue:l(h).address_type_id,"onUpdate:modelValue":m[34]||(m[34]=_=>l(h).address_type_id=_),modelModifiers:{number:!0},data:t.data.address_types,required:!1,placeholder:o.$t("Choose a value"),"dropdown-class":"block w-full",label:o.$t("Address type")},null,8,["modelValue","data","placeholder","label"])]),e("div",qi,[n(F,{ref_for:!0,ref:"line_1",modelValue:l(h).line_1,"onUpdate:modelValue":m[35]||(m[35]=_=>l(h).line_1=_),label:o.$t("Address"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[36]||(m[36]=_=>k.value=!1)},null,8,["modelValue","label"])]),e("div",Di,[n(F,{ref_for:!0,ref:"line_2",modelValue:l(h).line_2,"onUpdate:modelValue":m[37]||(m[37]=_=>l(h).line_2=_),label:o.$t("Apartment, suite, etcâ€¦"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[38]||(m[38]=_=>k.value=!1)},null,8,["modelValue","label"]),n(F,{modelValue:l(h).city,"onUpdate:modelValue":m[39]||(m[39]=_=>l(h).city=_),label:o.$t("City"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[40]||(m[40]=_=>k.value=!1)},null,8,["modelValue","label"])]),e("div",Li,[n(F,{modelValue:l(h).province,"onUpdate:modelValue":m[41]||(m[41]=_=>l(h).province=_),label:o.$t("Province"),type:"text",autofocus:!0,"input-class":"w-full me-2",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[42]||(m[42]=_=>k.value=!1)},null,8,["modelValue","label"]),n(F,{modelValue:l(h).postal_code,"onUpdate:modelValue":m[43]||(m[43]=_=>l(h).postal_code=_),label:o.$t("Postal code"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[44]||(m[44]=_=>k.value=!1)},null,8,["modelValue","label"]),n(F,{modelValue:l(h).country,"onUpdate:modelValue":m[45]||(m[45]=_=>l(h).country=_),label:o.$t("Country"),type:"text",autofocus:!0,"input-class":"w-full",required:!1,autocomplete:!1,maxlength:255,onEscKeyPressed:m[46]||(m[46]=_=>k.value=!1)},null,8,["modelValue","label"])]),e("div",Ei,[G(e("input",{id:"is_past_address","onUpdate:modelValue":m[47]||(m[47]=_=>l(h).is_past_address=_),name:"is_past_address",type:"checkbox",class:"focus:ring-3 relative h-4 w-4 rounded-xs border border-gray-300 bg-gray-50 focus:ring-blue-300 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"},null,512),[[de,l(h).is_past_address]]),e("label",Ai,r(o.$t("This address is not active anymore")),1)])]),e("div",Gi,[n(H,{text:o.$t("Cancel"),class:U("me-3"),onClick:m[48]||(m[48]=_=>S.value=0)},null,8,["text"]),n(R,{text:o.$t("Save"),state:f.value,icon:"plus",class:U("save")},null,8,["text","state"])])],40,Mi)):y("",!0)]))),128))])):y("",!0)]),n(ye,{show:u.value,onClose:m[51]||(m[51]=p=>u.value=!1)},{title:P(()=>[L(r(o.$t("Delete the address")),1)]),content:P(()=>[L(r(o.$t("Are you sure? The address will be deleted immediately.")),1)]),footer:P(()=>[n(pe,{onClick:m[49]||(m[49]=p=>u.value=!1)},{default:P(()=>[L(r(o.$t("Cancel")),1)]),_:1}),n(Ve,{class:U(["ms-3",{"opacity-25":v.value}]),disabled:v.value,onClick:m[50]||(m[50]=p=>d())},{default:P(()=>[L(r(o.$t("Delete")),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}},Ri=O(Fi,[["__scopeId","data-v-c2c1517b"]]),Ki={components:{InertiaLink:W,PrettyButton:R,PrettySpan:H,TextInput:F,Dropdown:B,Errors:Y,Avatar:he,Handshake:We},props:{data:{type:Object,default:null}},data(){return{loadingState:null,localGroups:[],localAvailableGroups:[],localGroupTypeRoles:[],addGroupMode:!1,nameInputShown:!1,chooseGroupTypeShown:!1,chooseGroupTypeRoleShown:!1,form:{search:"",group_id:-1,group_type_id:"",group_type_role_id:0,name:"",errors:[]}}},computed:{filteredGroups(){return this.localGroups.filter(t=>t.id>0)}},created(){this.localGroups=this.data.groups,this.localAvailableGroups=this.data.available_groups},methods:{toggleCreateGroup(){this.form.name="",this.form.group_id===0?this.createAddGroupModal():this.chooseExistingGroupModal()},createAddGroupModal(){this.nameInputShown=!0,this.chooseGroupTypeShown=!0,this.chooseGroupTypeRoleShown=!1},chooseExistingGroupModal(){this.nameInputShown=!1,this.chooseGroupTypeShown=!1,this.chooseGroupTypeRoleShown=!0;var t=this.localAvailableGroups.findIndex(i=>i.id===this.form.group_id);this.form.group_type_id=this.localAvailableGroups[t].type.id,this.loadGroupTypeRoles()},loadGroupTypeRoles(){for(let t=0;t<this.data.group_types.length;t++)this.data.group_types[t].id===this.form.group_type_id&&(this.localGroupTypeRoles=this.data.group_types[t].roles)},submit(){this.loadingState="loading",axios.post(this.data.url.store,this.form).then(t=>{this.flash(this.$t("The group has been added"),"success"),this.localGroups.unshift(t.data.data),this.loadingState=null,this.addGroupMode=!1}).catch(t=>{this.loadingState=null,this.form.errors=t.response.data})},destroy(t){confirm(this.$t("Are you sure? This action cannot be undone."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("The contact has been removed from the group"),"success");var i=this.localGroups.findIndex(f=>f.id===t.id);this.localGroups.splice(i,1)}).catch(i=>{this.loadingState=null,this.form.errors=i.response.data})}}},Ni={class:"mb-10"},Oi={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},zi={class:"mb-2 sm:mb-0 flex items-center gap-2"},Bi={class:"font-semibold"},Yi={class:"border-b border-gray-200 dark:border-gray-700"},Hi={key:0,class:"p-5"},Wi={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Ji={key:1,class:"border-b border-gray-200 p-5 dark:border-gray-700"},Qi={key:2,class:"border-b border-gray-200 p-5 dark:border-gray-700"},Zi={key:3,class:"p-5"},Xi={class:"flex justify-between p-5"},eu={key:1,class:"mb-4 rounded-lg border border-gray-200 last:mb-0 dark:border-gray-700"},tu={class:"font-semibold"},au={key:0,class:"relative flex -space-x-2 overflow-hidden py-1"},su={class:"text-sm"},ou={class:"me-4 inline cursor-pointer"},ru=["onClick"],lu={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},du=["alt"],nu={class:"px-5 pb-5 pt-2 text-center"};function iu(t,i,f,k,c,x){const V=q("Handshake"),S=q("pretty-button"),I=q("errors"),u=q("dropdown"),v=q("text-input"),$=q("pretty-span"),h=q("avatar"),M=q("InertiaLink");return a(),s("div",Ni,[e("div",Oi,[e("div",zi,[n(V,{class:"h-4 w-4 text-gray-600"}),e("span",Bi,r(t.$t("Groups")),1)]),n(S,{text:t.$t("Add to group"),icon:"plus",class:U("w-full sm:w-fit"),onClick:i[0]||(i[0]=T=>c.addGroupMode=!0)},null,8,["text"])]),c.addGroupMode?(a(),s("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:i[9]||(i[9]=z(T=>x.submit(),["prevent"]))},[e("div",Yi,[c.form.errors.length>0?(a(),s("div",Hi,[n(I,{errors:c.form.errors},null,8,["errors"])])):y("",!0),e("div",Wi,[n(u,{modelValue:c.form.group_id,"onUpdate:modelValue":i[1]||(i[1]=T=>c.form.group_id=T),modelModifiers:{number:!0},data:c.localAvailableGroups,required:!0,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Select a group or create a new one"),onChange:i[2]||(i[2]=T=>x.toggleCreateGroup())},null,8,["modelValue","data","placeholder","label"])]),c.chooseGroupTypeShown?(a(),s("div",Ji,[n(v,{ref:"newName",modelValue:c.form.name,"onUpdate:modelValue":i[3]||(i[3]=T=>c.form.name=T),label:t.$t("Name"),type:"text",autofocus:!0,"input-class":"block w-full",autocomplete:!1,maxlength:255,required:!0,onEscKeyPressed:i[4]||(i[4]=T=>t.addPetModalShown=!1)},null,8,["modelValue","label"])])):y("",!0),c.chooseGroupTypeShown?(a(),s("div",Qi,[n(u,{modelValue:c.form.group_type_id,"onUpdate:modelValue":i[5]||(i[5]=T=>c.form.group_type_id=T),modelModifiers:{number:!0},data:f.data.group_types,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Group type"),onChange:i[6]||(i[6]=T=>x.loadGroupTypeRoles())},null,8,["modelValue","data","placeholder","label"])])):y("",!0),c.localGroupTypeRoles.length>0||c.chooseGroupTypeRoleShown?(a(),s("div",Zi,[n(u,{modelValue:c.form.group_type_role_id,"onUpdate:modelValue":i[7]||(i[7]=T=>c.form.group_type_role_id=T),modelModifiers:{number:!0},data:c.localGroupTypeRoles,required:!1,placeholder:t.$t("Choose a value"),"dropdown-class":"block w-full",label:t.$t("Role")},null,8,["modelValue","data","placeholder","label"])])):y("",!0)]),e("div",Xi,[n($,{text:t.$t("Cancel"),class:U("me-3"),onClick:i[8]||(i[8]=T=>c.addGroupMode=!1)},null,8,["text"]),n(S,{text:t.$t("Save"),state:c.loadingState,icon:"plus",class:U("save")},null,8,["text","state"])])],32)):y("",!0),x.filteredGroups.length>0?(a(),s("ul",eu,[(a(!0),s(E,null,A(x.filteredGroups,T=>(a(),s("li",{key:T.id,class:"item-list flex items-center justify-between border-b border-gray-200 px-5 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[e("div",null,[e("p",tu,r(T.name),1),T.contacts?(a(),s("div",au,[(a(!0),s(E,null,A(T.contacts,g=>(a(),s("div",{key:g.id,class:"inline-block"},[n(M,{href:g.url.show},{default:P(()=>[n(h,{data:g.avatar,class:U("h-8 w-8 rounded-full ring-2 ring-white")},null,8,["data"])]),_:2},1032,["href"])]))),128))])):y("",!0)]),e("ul",su,[e("li",ou,[n(M,{href:T.url.show,class:"text-blue-500 hover:underline"},{default:P(()=>[L(r(t.$t("Show")),1)]),_:2},1032,["href"])]),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:g=>x.destroy(T)},r(t.$t("Leave")),9,ru)])]))),128))])):y("",!0),c.localGroups.length===0?(a(),s("div",lu,[e("img",{src:"/img/contact_blank_group.svg",alt:t.$t("Groups"),class:"mx-auto mt-4 h-14 w-14"},null,8,du),e("p",nu,r(t.$t("The contact does not belong to any group yet.")),1)])):y("",!0)])}const uu=O(Ki,[["render",iu],["__scopeId","data-v-0ae7ddab"]]),cu=["for"],mu={key:0,class:"optional-badge rounded-xs px-[3px] py-px text-xs"},bu={class:"component relative"},pu={key:1,class:"mt-1 text-xs"},yu={__name:"ComboBox",props:fe({id:{type:String,default:"dropdown-"},data:Object,dropdownClass:String,inputClass:String,help:String,label:String,required:Boolean,disabled:Boolean,autocomplete:String,placeholder:String,addNewValueSelection:{type:Boolean,default:!0},newValueSelection:{type:Object,default:()=>({id:"-1",name:N("Customâ€¦")})}},{modelValue:{type:String,default:""},modelModifiers:{},newValue:{type:String,default:""},newValueModifiers:{}}),emits:fe(["esc-key-pressed"],["update:modelValue","update:newValue"]),setup(t,{expose:i,emit:f}){const k=t,c=ve(t,"modelValue"),x=ve(t,"newValue"),V=f,S=Z("input"),I=()=>{V("esc-key-pressed")},u=M=>{V("update:modelValue",M.target.value),M.target.value==k.newValueSelection.id&&X(()=>{S.value.focus()})},v=M=>{V("update:newValue",M.target.value),M.target.value==""&&V("update:modelValue","")},$=_e(()=>k.id??ke.uniqueId("combobox-")),h=_e(()=>k.addNewValueSelection?ke.concat(k.data,k.newValueSelection):k.data);return i({focus:()=>{input.value.focus()}}),(M,T)=>(a(),s("div",null,[t.label?(a(),s("label",{key:0,class:"mb-2 block text-sm",for:$.value},[L(r(t.label)+" ",1),t.required?y("",!0):(a(),s("span",mu,r(M.$t("optional")),1))],8,cu)):y("",!0),e("div",bu,[c.value!=t.newValueSelection.id?(a(),D(B,{key:0,id:$.value,modelValue:c.value,"onUpdate:modelValue":T[0]||(T[0]=g=>c.value=g),required:t.required,disabled:t.disabled,placeholder:t.placeholder,data:h.value,autocomplete:t.autocomplete,"dropdown-class":t.dropdownClass,onEscKeyPressed:I,onChange:u},null,8,["id","modelValue","required","disabled","placeholder","data","autocomplete","dropdown-class"])):(a(),D(F,{key:1,ref:"input",id:$.value,modelValue:x.value,"onUpdate:modelValue":T[1]||(T[1]=g=>x.value=g),required:t.required,disabled:t.disabled,placeholder:t.placeholder,autocomplete:t.autocomplete,"input-class":t.inputClass,onEscKeyPressed:I,onChange:v},null,8,["id","modelValue","required","disabled","placeholder","autocomplete","input-class"]))]),t.help?(a(),s("p",pu,r(t.help),1)):y("",!0)]))}},Ce=O(yu,[["__scopeId","data-v-a7da5cb1"]]),hu={class:"mb-10"},gu={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},fu={class:"mb-2 sm:mb-0 flex items-center gap-2"},vu={class:"font-semibold"},_u={class:"border-b border-gray-200 dark:border-gray-700"},ku={key:0,class:"p-5"},$u={class:"p-5"},xu={class:"border-b border-gray-200 p-5 dark:border-gray-700"},wu={class:"mb-2 block text-sm dark:text-gray-100",for:"newData"},Cu={class:"relative flex"},Vu={class:"flex justify-between p-5"},Su={key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Iu=["alt"],Uu={class:"px-5 pb-5 pt-2 text-center"},Mu={key:0},ju={class:"mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Tu={key:0,class:"flex items-center justify-between px-3 py-2"},Pu=["href"],qu={key:0,class:"me-2 text-xs text-gray-500"},Du={key:1,class:"ms-2 text-xs text-gray-500"},Lu={class:"text-sm"},Eu=["onClick"],Au=["onClick"],Gu=["onSubmit"],Fu={class:"border-b border-gray-200 dark:border-gray-700"},Ru={key:0,class:"p-5"},Ku={class:"p-5"},Nu={class:"border-b border-gray-200 p-5 dark:border-gray-700"},Ou={class:"mb-2 block text-sm dark:text-gray-100",for:"rename"},zu={class:"relative flex"},Bu={class:"flex justify-between p-5"},Yu={__name:"ContactInformation",props:{data:Object},setup(t){const i=t,f=j(""),k=j(!1),c=j(i.data.contact_information),x=j(0),V=j(null),S=j(null),I=j(null),u=Z("newData"),v=Z("rename"),$=be({data:"",contact_information_type_id:0,contact_information_kind:null,contact_information_kind_custom:null,errors:[]});Ie(()=>$.contact_information_type_id,b=>{for(const d in i.data.contact_information_types){let o=i.data.contact_information_types[d].options,m=o.findIndex(ee=>ee.id===b);if(m===-1)continue;let p=o[m];S.value=i.data.contact_information_kinds[p.type]??null;let _=i.data.protocols[p.name_translation_key]??null;I.value=_!==null?_.url:null;return}S.value=null,I.value=null},{immediate:!0});const h=()=>{$.errors=[],k.value=!0,$.contact_information_type_id=i.data.contact_information_types.email.options[0].id,$.contact_information_kind=null,$.contact_information_kind_custom=null,$.data=""},M=b=>{$.errors=[],x.value=b.id,$.contact_information_type_id=b.contact_information_type.id,$.contact_information_kind=b.contact_information_kind?.id,b.contact_information_kind!==null&&b.contact_information_kind.id=="-1"&&($.contact_information_kind_custom=b.contact_information_kind.name),$.data=b.data},T=()=>{$.contact_information_kind==-1&&($.contact_information_kind=$.contact_information_kind_custom)},g=()=>{f.value="loading",T(),axios.post(i.data.url.store,$).then(b=>{const d=b.data.data.contact_information_type.type;c.value.length===0&&(c.value={}),c.value[d]===void 0&&(c.value[d]=[]),c.value[d].unshift(b.data.data),f.value="",k.value=!1,J(N("The contact information has been created"),"success")}).catch(b=>{f.value="",$.errors=b.response.data})},w=b=>{f.value="loading",T(),axios.put(b.url.update,$).then(d=>{f.value="";const o=d.data.data.contact_information_type.type;c.value[o][c.value[o].findIndex(m=>m.id===b.id)]=d.data.data,x.value=0,J(N("The contact information has been updated"),"success")}).catch(d=>{f.value="",$.errors=d.response.data})},C=()=>{f.value="loading",axios.delete(V.value.url.destroy).then(()=>{f.value="";const b=V.value.contact_information_type.type;c.value[b].splice(c.value[b].findIndex(d=>d.id===V.value.id),1),V.value=null,J(N("The contact information has been deleted"),"success")}).catch(b=>{f.value="",$.errors=b.response.data,V.value=null})};return(b,d)=>(a(),s("div",hu,[e("div",gu,[e("div",fu,[n(l(Je),{class:"h-4 w-4 text-gray-600"}),e("span",vu,r(b.$t("Contact information")),1)]),n(R,{text:b.$t("Add a contact information"),icon:"plus",class:U("w-full sm:w-fit"),onClick:h},null,8,["text"])]),k.value?(a(),s("form",{key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:d[7]||(d[7]=z(o=>g(),["prevent"]))},[e("div",_u,[$.errors.length>0?(a(),s("div",ku,[n(Y,{errors:$.errors},null,8,["errors"])])):y("",!0),e("div",$u,[n(B,{ref:"newType",modelValue:$.contact_information_type_id,"onUpdate:modelValue":d[0]||(d[0]=o=>$.contact_information_type_id=o),modelModifiers:{number:!0},data:t.data.contact_information_types,required:!0,placeholder:b.$t("Choose a value"),"dropdown-class":"block w-full",label:b.$t("Type"),autofocus:!0,onChange:d[1]||(d[1]=o=>u.value.focus())},null,8,["modelValue","data","placeholder","label"])]),e("div",xu,[e("label",wu,r(b.$t("Content")),1),e("div",Cu,[S.value!==null?(a(),D(Ce,{key:0,class:"me-3 flex-none",modelValue:$.contact_information_kind,"onUpdate:modelValue":d[2]||(d[2]=o=>$.contact_information_kind=o),"new-value":$.contact_information_kind_custom,"onUpdate:newValue":d[3]||(d[3]=o=>$.contact_information_kind_custom=o),label:b.$t("Kind"),data:S.value,required:!1,placeholder:b.$t("Choose a value"),"dropdown-class":"block"},null,8,["modelValue","new-value","label","data","placeholder"])):y("",!0),n(F,{ref:"newData",id:"newData",class:"flex-1",modelValue:$.data,"onUpdate:modelValue":d[4]||(d[4]=o=>$.data=o),label:b.$t("Data"),type:"text","input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,placeholder:I.value,onEscKeyPressed:d[5]||(d[5]=o=>k.value=!1)},null,8,["modelValue","label","placeholder"])])])]),e("div",Vu,[n(H,{text:b.$t("Cancel"),class:U("me-3"),onClick:d[6]||(d[6]=o=>k.value=!1)},null,8,["text"]),n(R,{text:b.$t("Save"),state:f.value,icon:"plus",class:U("save")},null,8,["text","state"])])],32)):y("",!0),c.value.length===0?(a(),s("div",Su,[e("img",{src:"/img/contact_blank_contact.svg",alt:b.$t("Contact informations"),class:"mx-auto mt-4 h-20 w-20"},null,8,Iu),e("p",Uu,r(b.$t("There are no contact informations yet.")),1)])):(a(!0),s(E,{key:2},A(t.data.contact_information_groups,(o,m)=>(a(),s(E,{key:m},[c.value[m]!==void 0&&c.value[m].length>0?(a(),s("div",Mu,[e("p",null,r(o),1),e("ul",ju,[(a(!0),s(E,null,A(c.value[m],p=>(a(),s("li",{key:p.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[x.value!==p.id?(a(),s("div",Tu,[e("div",null,[e("a",{href:p.data_with_protocol,class:"text-blue-500 hover:underline",rel:"noopener noreferrer",target:"_blank"},r(p.data),9,Pu),p.contact_information_kind?(a(),s("span",qu," â€” "+r(p.contact_information_kind.name),1)):y("",!0),p.label!==p.data?(a(),s("span",Du," ("+r(p.label)+") ",1)):y("",!0)]),e("ul",Lu,[e("li",{class:"me-4 inline cursor-pointer text-blue-500 hover:underline",onClick:_=>M(p)},r(b.$t("Edit")),9,Eu),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:_=>V.value=p},r(b.$t("Delete")),9,Au)])])):y("",!0),x.value===p.id?(a(),s("form",{key:1,class:"bg-gray-50 dark:bg-gray-900",onSubmit:z(_=>w(p),["prevent"])},[e("div",Fu,[$.errors.length>0?(a(),s("div",Ru,[n(Y,{errors:$.errors},null,8,["errors"])])):y("",!0),e("div",Ku,[n(B,{modelValue:$.contact_information_type_id,"onUpdate:modelValue":d[8]||(d[8]=_=>$.contact_information_type_id=_),modelModifiers:{number:!0},data:t.data.contact_information_types,required:!0,placeholder:b.$t("Choose a value"),"dropdown-class":"block w-full",label:b.$t("Type"),onChange:d[9]||(d[9]=_=>v.value[0].focus())},null,8,["modelValue","data","placeholder","label"])]),e("div",Nu,[e("label",Ou,r(b.$t("Content")),1),e("div",zu,[S.value!==null?(a(),D(Ce,{key:0,class:"me-3 flex-none",modelValue:$.contact_information_kind,"onUpdate:modelValue":d[10]||(d[10]=_=>$.contact_information_kind=_),"new-value":$.contact_information_kind_custom,"onUpdate:newValue":d[11]||(d[11]=_=>$.contact_information_kind_custom=_),label:b.$t("Kind"),data:S.value,required:!1,placeholder:b.$t("Choose a value"),"dropdown-class":"block"},null,8,["modelValue","new-value","label","data","placeholder"])):y("",!0),n(F,{ref_for:!0,ref:"rename",id:"rename",class:"flex-1",modelValue:$.data,"onUpdate:modelValue":d[12]||(d[12]=_=>$.data=_),label:b.$t("Data"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,placeholder:I.value,onEscKeyPressed:d[13]||(d[13]=_=>x.value=0)},null,8,["modelValue","label","placeholder"])])])]),e("div",Bu,[n(H,{text:b.$t("Cancel"),class:U("me-3"),onClick:d[14]||(d[14]=_=>x.value=0)},null,8,["text"]),n(R,{text:b.$t("Save"),state:f.value,icon:"check",class:U("save")},null,8,["text","state"])])],40,Gu)):y("",!0)]))),128))])])):y("",!0)],64))),128)),n(ye,{show:V.value!==null,onClose:d[16]||(d[16]=o=>V.value=null)},{title:P(()=>[L(r(b.$t("Delete a contact information")),1)]),content:P(()=>[L(r(b.$t("Are you sure? This action cannot be undone.")),1)]),footer:P(()=>[n(H,{text:b.$t("Cancel"),class:U("me-3"),onClick:d[15]||(d[15]=o=>V.value=null)},null,8,["text"]),n(R,{text:b.$t("Delete"),state:f.value,icon:"trash",class:U("save"),onClick:C},null,8,["text","state"])]),_:1},8,["show"])]))}},Hu=O(Yu,[["__scopeId","data-v-f412687a"]]),Wu={components:{PrettyButton:R,Uploadcare:ge,CloudUpload:Oe},props:{data:{type:Object,default:null}},data(){return{localDocuments:[],form:{uuid:null,name:null,original_url:null,cdn_url:null,mime_type:null,size:null,errors:[]}}},created(){this.localDocuments=this.data.documents},methods:{onSuccess(t){this.form.uuid=t.uuid,this.form.name=t.name,this.form.original_url=t.originalUrl,this.form.cdn_url=t.cdnUrl,this.form.mime_type=t.mimeType,this.form.size=t.size,this.upload()},upload(){axios.post(this.data.url.store,this.form).then(t=>{this.localDocuments.unshift(t.data.data),this.flash(this.$t("The document has been added"),"success")}).catch(t=>{this.form.errors=t.response.data})},destroy(t){confirm(this.$t("Are you sure? This will delete the document permanently."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("Are you sure? This will delete the document permanently."),"success");var i=this.localDocuments.findIndex(f=>f.id===t.id);this.localDocuments.splice(i,1)}).catch(i=>{this.form.errors=i.response.data})}}},Ju={class:"mb-10"},Qu={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},Zu={class:"mb-2 sm:mb-0 flex items-center gap-2"},Xu={class:"font-semibold"},ec={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},tc={class:"bg-gray-100 p-3 text-center"},ac={key:1},sc={class:"mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},oc={class:"flex items-center justify-between px-3 py-2"},rc={class:"flex items-center"},lc={class:"max-w-sm truncate"},dc={class:"ms-2 rounded-xs border bg-blue-50 px-1 py-0 font-mono text-xs text-blue-500"},nc={class:"text-sm"},ic={class:"me-4 inline"},uc=["href"],cc=["onClick"],mc={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},bc=["alt"],pc={class:"px-5 pb-5 pt-2 text-center"},yc={key:3,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},hc={class:"p-5 text-center"};function gc(t,i,f,k,c,x){const V=q("CloudUpload"),S=q("pretty-button"),I=q("uploadcare");return a(),s("div",Ju,[e("div",Qu,[e("div",Zu,[n(V,{class:"h-4 w-4 text-gray-600"}),e("span",Xu,r(t.$t("Documents")),1)]),f.data.uploadcare.publicKey&&f.data.canUploadFile?(a(),D(I,{key:0,"public-key":f.data.uploadcare.publicKey,"secure-signature":f.data.uploadcare.signature,"secure-expire":f.data.uploadcare.expire,tabs:"file","preview-step":!1,onSuccess:x.onSuccess,onError:t.onError},{default:P(()=>[n(S,{text:t.$t("Add a document"),icon:"plus",class:U("w-full sm:w-fit")},null,8,["text"])]),_:1},8,["public-key","secure-signature","secure-expire","onSuccess","onError"])):y("",!0)]),f.data.canUploadFile?y("",!0):(a(),s("div",ec,[e("p",tc,[i[0]||(i[0]=e("span",{class:"me-1"},"âš ï¸",-1)),L(" "+r(t.$t("You donâ€™t have enough space left in your account. Please upgrade.")),1)])])),c.localDocuments.length>0?(a(),s("div",ac,[e("ul",sc,[(a(!0),s(E,null,A(c.localDocuments,u=>(a(),s("li",{key:u.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[e("div",oc,[e("span",rc,[e("span",lc,r(u.name),1),e("span",dc,r(u.size),1)]),e("ul",nc,[e("li",ic,[e("a",{href:u.url.download,class:"text-blue-500 hover:underline"},r(t.$t("Download")),9,uc)]),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:v=>x.destroy(u)},r(t.$t("Delete")),9,cc)])])]))),128))])])):y("",!0),c.localDocuments.length===0?(a(),s("div",mc,[e("img",{src:"/img/contact_blank_document.svg",alt:t.$t("Documents"),class:"mx-auto mt-4 h-16 w-16"},null,8,bc),e("p",pc,r(t.$t("There are no documents yet.")),1)])):y("",!0),f.data.uploadcare.publicKey?y("",!0):(a(),s("div",yc,[e("p",hc,r(t.$t("The keys to manage uploads have not been set in this Monica instance.")),1)]))])}const fc=O(Wu,[["render",gc],["__scopeId","data-v-7306e4d0"]]),vc={components:{InertiaLink:W,PrettyButton:R,Uploadcare:ge,FileImage:Ye},props:{data:{type:Object,default:null}},data(){return{localPhotos:[],form:{searchTerm:null,uuid:null,name:null,original_url:null,cdn_url:null,mime_type:null,size:null,errors:[]}}},created(){this.localPhotos=this.data.photos},methods:{onSuccess(t){this.form.uuid=t.uuid,this.form.name=t.name,this.form.original_url=t.originalUrl,this.form.cdn_url=t.cdnUrl,this.form.mime_type=t.mimeType,this.form.size=t.size,this.upload()},upload(){axios.post(this.data.url.store,this.form).then(t=>{this.localPhotos.unshift(t.data.data),this.flash(this.$t("The photo has been added"),"success")}).catch(t=>{this.form.errors=t.response.data})},destroy(t){confirm(this.$t("Are you sure? This action cannot be undone."))&&axios.delete(t.url.destroy).then(()=>{this.flash(this.$t("The photo has been deleted"),"success");var i=this.localPhotos.findIndex(f=>f.id===t.id);this.localPhotos.splice(i,1)}).catch(i=>{this.form.errors=i.response.data})}}},_c={class:"mb-10"},kc={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},$c={class:"mb-2 sm:mb-0 flex items-center gap-2"},xc={class:"font-semibold"},wc={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Cc={class:"bg-gray-100 p-3 text-center"},Vc={key:1},Sc={class:"mb-4 grid grid-cols-3 gap-4"},Ic=["src","alt"],Uc={class:"text-center"},Mc={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},jc=["alt"],Tc={class:"px-5 pb-5 pt-2 text-center"},Pc={key:3,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},qc={class:"p-5 text-center"};function Dc(t,i,f,k,c,x){const V=q("FileImage"),S=q("pretty-button"),I=q("uploadcare"),u=q("InertiaLink");return a(),s("div",_c,[e("div",kc,[e("div",$c,[n(V,{class:"h-4 w-4 text-gray-600"}),e("span",xc,r(t.$t("Photos")),1)]),f.data.uploadcare.publicKey&&f.data.canUploadFile?(a(),D(I,{key:0,"public-key":f.data.uploadcare.publicKey,"secure-signature":f.data.uploadcare.signature,"secure-expire":f.data.uploadcare.expire,tabs:"file","preview-step":!1,onSuccess:x.onSuccess,onError:t.onError},{default:P(()=>[n(S,{text:t.$t("Add a photo"),icon:"plus",class:U("w-full sm:w-fit")},null,8,["text"])]),_:1},8,["public-key","secure-signature","secure-expire","onSuccess","onError"])):y("",!0)]),f.data.canUploadFile?y("",!0):(a(),s("div",wc,[e("p",Cc,[i[0]||(i[0]=e("span",{class:"me-1"},"âš ï¸",-1)),L(" "+r(t.$t("You donâ€™t have enough space left in your account.")),1)])])),c.localPhotos.length>0?(a(),s("div",Vc,[e("div",Sc,[(a(!0),s(E,null,A(c.localPhotos,v=>(a(),s("div",{key:v.id,class:"rounded-md border border-gray-200 p-2 shadow-xs hover:bg-slate-50 hover:shadow-lg dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[n(u,{href:v.url.show},{default:P(()=>[e("img",{src:v.url.display,alt:v.name},null,8,Ic)]),_:2},1032,["href"])]))),128))]),e("div",Uc,[n(u,{href:f.data.url.index,class:"rounded-xs border border-gray-200 px-3 py-1 text-sm text-blue-500 hover:border-gray-500 dark:border-gray-700"},{default:P(()=>[L(r(t.$t("View all")),1)]),_:1},8,["href"])])])):y("",!0),c.localPhotos.length===0?(a(),s("div",Mc,[e("img",{src:"/img/contact_blank_photo.svg",alt:t.$t("Photos"),class:"mx-auto mt-4 h-16 w-16"},null,8,jc),e("p",Tc,r(t.$t("There are no photos yet.")),1)])):y("",!0),f.data.uploadcare.publicKey?y("",!0):(a(),s("div",Pc,[e("p",qc,r(t.$t("The keys to manage uploads have not been set in this Monica instance.")),1)]))])}const Lc=O(vc,[["render",Dc],["__scopeId","data-v-b8971c9e"]]),Ec={class:"mb-4"},Ac={class:"pb-1 mb-2 items-center justify-between border-b border-gray-200 dark:border-gray-700 flex"},Gc={class:"text-xs"},Fc={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900"},Rc={class:"border-b border-gray-200 p-2 dark:border-gray-700"},Kc={class:"flex justify-between p-2"},Nc={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},Oc={key:2},zc={__name:"Religion",props:{data:Object},setup(t){const i=t,f=te({religion_id:i.data.religion?.id}),k=j(!1),c=j(!1),x=j(i.data.religions),V=j(i.data.religion?.name),S=()=>{k.value="loading",axios.put(i.data.url.update,f).then(u=>{c.value=!1,k.value="",V.value=u.data.data.religion.name}).catch(()=>{k.value=""})},I=()=>{c.value=!0};return(u,v)=>(a(),s("div",Ec,[e("div",Ac,[e("div",Gc,r(u.$t("Religion")),1),c.value?y("",!0):(a(),s("span",{key:0,class:"relative cursor-pointer",onClick:v[0]||(v[0]=$=>I())},[n(l(oe),{class:"h-3 w-3 text-gray-400"})])),c.value?(a(),s("span",{key:1,class:"cursor-pointer text-xs text-gray-600 dark:text-gray-400",onClick:v[1]||(v[1]=$=>c.value=!1)},r(u.$t("Close")),1)):y("",!0)]),c.value?(a(),s("div",Fc,[e("form",{onSubmit:v[4]||(v[4]=z($=>S(),["prevent"]))},[e("div",Rc,[n(Y,{errors:l(f).errors},null,8,["errors"]),n(B,{modelValue:l(f).religion_id,"onUpdate:modelValue":v[2]||(v[2]=$=>l(f).religion_id=$),data:x.value,required:!1,class:U("mb-2"),placeholder:u.$t("Choose a value"),"dropdown-class":"block w-full"},null,8,["modelValue","data","placeholder"])]),e("div",Kc,[n(H,{text:u.$t("Cancel"),class:U("me-3"),onClick:v[3]||(v[3]=$=>c.value=!1)},null,8,["text"]),n(R,{href:"data.url.vault.create",text:u.$t("Save"),state:k.value,icon:"check",class:U("save")},null,8,["text","state"])])],32)])):y("",!0),V.value?(a(),s("p",Oc,r(V.value),1)):(a(),s("p",Nc,r(u.$t("Not set")),1))]))}},Bc=O(zc,[["__scopeId","data-v-6a73a765"]]),Yc={class:"mb-10"},Hc={class:"mb-3 items-center justify-between border-b border-gray-200 pb-2 dark:border-gray-700 sm:flex"},Wc={class:"mb-2 sm:mb-0 flex items-center gap-2"},Jc={class:"font-semibold"},Qc={key:0},Zc={class:"mb-4 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},Xc={class:"flex items-center text-sm"},e0={class:"me-2"},t0={class:"relative me-3 inline"},a0={key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},s0=["alt"],o0={class:"px-5 pb-5 pt-2 text-center"},r0={__name:"Posts",props:{data:Object},setup(t){return(i,f)=>(a(),s("div",Yc,[e("div",Hc,[e("div",Wc,[n(l(Xe),{class:"h-4 w-4 text-gray-600"}),e("span",Jc,r(i.$t("Posts")),1)])]),t.data.length>0?(a(),s("div",Qc,[e("ul",Zc,[(a(!0),s(E,null,A(t.data,k=>(a(),s("li",{key:k.id,class:"item-list border-b border-gray-200 px-3 py-2 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[n(l(W),{href:k.url.show,class:"mb-2 block text-blue-500 hover:underline"},{default:P(()=>[L(r(k.title),1)]),_:2},1032,["href"]),e("div",Xc,[e("p",e0,[L(r(i.$t("in"))+" ",1),n(l(W),{href:k.journal.url.show,class:"text-blue-500 hover:underline"},{default:P(()=>[L(r(k.journal.name),1)]),_:2},1032,["href"])]),e("div",t0,[n(Le,{time:"four"}),L(" "+r(k.written_at),1)])])]))),128))])])):y("",!0),t.data.length===0?(a(),s("div",a0,[e("img",{src:"/img/contact_blank_posts.svg",alt:i.$t("Notes"),class:"mx-auto mt-4 h-20 w-20"},null,8,s0),e("p",o0,r(i.$t("There are no posts yet.")),1)])):y("",!0)]))}},l0=O(r0,[["__scopeId","data-v-d197f585"]]),d0={},n0={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"me-1 h-4 w-4 flex-none text-green-600"};function i0(t,i){return a(),s("svg",n0,i[0]||(i[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))}const u0=O(d0,[["render",i0]]),c0={class:"mb-8 rounded-lg border border-gray-200 bg-gray-50 p-3 shadow-xs dark:border-gray-700 dark:bg-gray-900"},m0={class:"flex items-center gap-2"},b0={class:"text-sm font-bold"},p0={key:0},y0={class:"mb-4 flex"},h0={class:"list"},g0=["onClick"],f0={key:0},v0={key:0,class:"flex items-center justify-between"},_0={class:"flex items-center"},k0={class:"grow"},$0=["onSubmit"],x0={class:"border-b border-gray-200 p-5 dark:border-gray-700"},w0={class:"flex justify-between p-5"},C0={key:0,class:"ms-2 mt-1"},V0={key:1,class:"mb-2"},S0={class:"px-5 pb-2 text-center"},I0=["alt"],U0={key:2,class:"px-20 py-5 text-center"},M0={class:"border-b border-gray-200 p-5 dark:border-gray-700"},j0={class:"flex justify-between p-5"},T0={__name:"QuickFacts",props:{data:Object},setup(t){const i=t,f=te({content:""}),k=j(!1),c=j(!1),x=j(!1),V=j(i.data.show_quick_facts),S=j(i.data.quick_facts.quick_facts),I=j(i.data.quick_facts.template),u=Z("contentField"),v=j(null),$=()=>{axios.put(i.data.url.toggle).then(()=>{V.value=!V.value})},h=()=>{x.value=!0,f.content="",X().then(()=>u.value.focus())},M=b=>{v.value=b.id,f.content=b.content,X().then(()=>u.value.focus())},T=b=>{k.value=!0,axios.get(b.url.show).then(d=>{I.value=d.data.data.template,S.value=d.data.data.quick_facts,k.value=!1})},g=()=>{c.value="loading",axios.post(I.value.url.store,f).then(b=>{c.value="",x.value=!1,S.value.push(b.data.data)}).catch(()=>{c.value=""})},w=b=>{c.value="loading",axios.put(b.url.update,f).then(d=>{c.value="",v.value=0,S.value[S.value.findIndex(o=>o.id===b.id)]=d.data.data}).catch(()=>{c.value=""})},C=b=>{axios.delete(b.url.destroy).then(()=>{var d=S.value.findIndex(o=>o.id===b.id);S.value.splice(d,1)})};return(b,d)=>(a(),s("div",c0,[e("div",{onClick:d[0]||(d[0]=o=>$()),class:U(["flex cursor-pointer items-center justify-between",V.value?" mb-4":""])},[e("div",m0,[n(l(Qe),{class:"h-4 w-4 text-gray-600"}),e("p",b0,r(b.$t("Quick facts")),1)]),e("div",null,[V.value?(a(),D($e,{key:0,type:"down"})):y("",!0),V.value?y("",!0):(a(),D($e,{key:1,type:"up"}))])],2),V.value?(a(),s("div",p0,[e("div",y0,[e("ul",h0,[(a(!0),s(E,null,A(t.data.templates,o=>(a(),s("li",{key:o.id,class:"me-2 inline"},[e("span",{onClick:m=>T(o),class:U([I.value.id===o.id?"rounded-xs border border-gray-200 bg-white font-semibold dark:bg-gray-800":"","cursor-pointer px-2 py-1 text-sm"])},r(o.label),11,g0)]))),128))])]),S.value.length>0&&!k.value?(a(),s("ul",f0,[(a(!0),s(E,null,A(S.value,o=>(a(),s("li",{key:o.id,class:"border-b border-dotted border-gray-300 px-2 py-2 hover:bg-gray-100 dark:hover:bg-gray-800"},[v.value!==o.id?(a(),s("div",v0,[e("div",_0,[n(u0),e("span",k0,r(o.content),1)]),n(ue,{"show-edit":!0,"show-delete":!0,onEdit:m=>M(o),onDelete:m=>C(o)},null,8,["onEdit","onDelete"])])):y("",!0),v.value===o.id?(a(),s("form",{key:1,class:"mt-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:z(m=>w(o),["prevent"])},[e("div",x0,[n(Y,{errors:l(f).errors},null,8,["errors"]),n(F,{ref_for:!0,ref_key:"contentField",ref:u,modelValue:l(f).content,"onUpdate:modelValue":d[1]||(d[1]=m=>l(f).content=m),label:b.$t("Content"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:d[2]||(d[2]=m=>v.value=0)},null,8,["modelValue","label"])]),e("div",w0,[n(H,{text:b.$t("Cancel"),class:U("me-3"),onClick:d[3]||(d[3]=m=>v.value=0)},null,8,["text"]),n(R,{text:b.$t("Save"),state:c.value,icon:"plus",class:U("save")},null,8,["text","state"])])],40,$0)):y("",!0)]))),128)),x.value?y("",!0):(a(),s("li",C0,[e("span",{onClick:d[4]||(d[4]=o=>h()),class:"cursor-pointer text-blue-500 hover:underline"},r(b.$t("+ add another")),1)]))])):y("",!0),S.value.length===0&&!k.value&&!x.value?(a(),s("div",V0,[e("p",S0,[L(r(b.$t("There are no quick facts here yet."))+" ",1),e("span",{onClick:h,class:"cursor-pointer text-blue-500 hover:underline"},r(b.$t("Add one now")),1)]),e("img",{src:"/img/contact_blank_quick_facts.svg",alt:b.$t("Activity feed"),class:"mx-auto h-20 w-20"},null,8,I0)])):y("",!0),k.value?(a(),s("div",U0,[n(Re)])):y("",!0),x.value?(a(),s("form",{key:3,class:"mt-2 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:d[8]||(d[8]=z(o=>g(),["prevent"]))},[e("div",M0,[n(Y,{errors:l(f).errors},null,8,["errors"]),n(F,{ref_key:"contentField",ref:u,modelValue:l(f).content,"onUpdate:modelValue":d[5]||(d[5]=o=>l(f).content=o),label:b.$t("Content"),type:"text",autofocus:!0,"input-class":"block w-full",required:!0,autocomplete:!1,maxlength:255,onEscKeyPressed:d[6]||(d[6]=o=>x.value=!1)},null,8,["modelValue","label"])]),e("div",j0,[n(H,{text:b.$t("Cancel"),class:U("me-3"),onClick:d[7]||(d[7]=o=>x.value=!1)},null,8,["text"]),n(R,{text:b.$t("Save"),state:c.value,icon:"plus",class:U("save")},null,8,["text","state"])])],32)):y("",!0)])):y("",!0)]))}},P0={class:"bg-white dark:bg-gray-900 sm:mt-20 sm:border-b sm:border-gray-300 dark:border-gray-700"},q0={class:"max-w-8xl mx-auto hidden px-4 py-2 sm:px-6 md:block"},D0={class:"flex items-center gap-1 text-sm"},L0={class:"text-gray-600 dark:text-gray-400"},E0={class:"inline"},A0={class:"relative inline"},G0={class:"inline"},F0={class:"sm:mt-8 relative"},R0={class:"mx-auto max-w-6xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},K0={key:0,class:"mb-8 rounded-lg border border-gray-300 px-3 py-2 text-center"},N0={class:"special-grid grid grid-cols-1 gap-6 sm:grid-cols-3"},O0={class:"p-3 sm:p-3"},z0={key:0,class:"mb-8"},B0={class:"text-xs"},Y0={key:0,class:"mb-2"},H0={key:1,class:"mb-2"},W0={class:"cursor-pointer text-blue-500 hover:underline"},J0={key:2,class:"mb-2"},Q0={key:3,class:"mb-2"},Z0={class:"mb-2"},X0={class:"mb-2"},em={class:"mb-2"},tm={key:4},am={class:"p-3 sm:px-3 sm:py-0"},sm={key:1},om={class:"mb-6 flex rounded-xs border border-gray-200 p-3 dark:border-gray-700"},rm={class:"me-2 inline"},lm={class:"hidden md:block mb-8 w-full border-b border-gray-200 dark:border-gray-700"},dm={class:"flex overflow-x-hidden"},nm={class:"mb-0 block rounded-xs px-3 py-1 hover:bg-gray-100 dark:hover:bg-gray-900"},im={class:"md:hidden mb-8 w-full"},um={class:"text-sm mb-2"},cm=["value"],mm={key:2},bm={__name:"Show",props:{layoutData:Object,data:Object},setup(t){const i=t,f=te({searchTerm:null,uuid:null,name:null,original_url:null,cdn_url:null,mime_type:null,size:null,errors:[]}),k=j(!1),c=be({processing:!1}),x=j(!1),V=be({processing:!1}),S=()=>{c.processing=!0,axios.delete(i.data.url.destroy).then(g=>{c.processing=!1,localStorage.success=N("The contact has been deleted"),le.visit(g.data.data)}).catch(g=>{c.processing=!1,f.errors=g.response.data})},I=()=>{V.processing=!0,axios.put(i.data.url.toggle_archive).then(g=>{V.processing=!1,localStorage.success=N("Changes saved"),le.visit(g.data.data)}).catch(g=>{V.processing=!1,f.errors=g.response.data})},u=g=>{f.uuid=g.uuid,f.name=g.name,f.original_url=g.originalUrl,f.cdn_url=g.cdnUrl,f.mime_type=g.mimeType,f.size=g.size,v()},v=()=>{axios.put(i.data.url.update_avatar,f).then(g=>{le.visit(g.data.data),J(N("The photo has been added"),"success")}).catch(g=>{f.errors=g.response.data})},$=()=>{axios.delete(i.data.url.destroy_avatar).then(g=>{le.visit(g.data.data),J(N("Changes saved"),"success")}).catch(g=>{f.errors=g.response.data})},h=()=>{le.post(i.data.url.download_vcard,null,{preserveScroll:!0,onSuccess:g=>{const w=g.props.jetstream.flash.filename;if(w!==void 0){const C=window.URL.createObjectURL(new Blob([g.props.jetstream.flash.data])),b=document.createElement("a");b.href=C,b.setAttribute("download",w);try{document.body.appendChild(b),b.click()}catch{document.body.removeChild(b)}}}})},M=j("");Ue(()=>{const g=Object.values(i.data.template_pages).find(w=>w.selected);g&&(M.value=g.url.show)});const T=()=>{le.visit(M.value)};return(g,w)=>(a(),D(Te,{title:t.data.contact_name.name,"layout-data":t.layoutData,"inside-vault":!0},{default:P(()=>[e("nav",P0,[e("div",q0,[e("div",D0,[e("div",L0,r(g.$t("You are here:")),1),e("div",E0,[n(l(W),{href:t.layoutData.vault.url.contacts,class:"text-blue-500 hover:underline"},{default:P(()=>[L(r(g.$t("Contacts")),1)]),_:1},8,["href"])]),e("div",A0,[n(l(Ke),{class:"h-3 w-3"})]),e("div",G0,r(g.$t("Profile of :name",{name:t.data.contact_name.name})),1)])])]),e("main",F0,[e("div",R0,[t.data.listed?y("",!0):(a(),s("div",K0,[w[10]||(w[10]=e("span",{class:"me-4"}," ðŸ•¸ï¸ ",-1)),L(" "+r(g.$t("The contact is archived"))+" ",1),w[11]||(w[11]=e("span",{class:"ms-4"}," ðŸ•·ï¸ ",-1))])),e("div",N0,[e("div",O0,[t.data.contact_information.length>0?(a(),s("div",z0,[(a(!0),s(E,null,A(t.data.contact_information,C=>(a(),s("div",{key:C.id},[C.type==="avatar"?(a(),D(yt,{key:0,data:C.data},null,8,["data"])):C.type==="contact_names"?(a(),D(mt,{key:1,data:C.data},null,8,["data"])):C.type==="family_summary"?(a(),D(Lt,{key:2,data:C.data},null,8,["data"])):C.type==="gender_pronoun"?(a(),D(Vt,{key:3,data:C.data},null,8,["data"])):C.type==="important_dates"?(a(),D(Bt,{key:4,data:C.data},null,8,["data"])):C.type==="labels"?(a(),D(ra,{key:5,data:C.data},null,8,["data"])):C.type==="company"?(a(),D(Lo,{key:6,data:C.data},null,8,["data"])):C.type==="religions"?(a(),D(Bc,{key:7,data:C.data},null,8,["data"])):y("",!0)]))),128))])):y("",!0),e("ul",B0,[t.data.avatar.hasFile?(a(),s("li",Y0,[e("span",{onClick:w[0]||(w[0]=z(C=>$(),["prevent"])),class:"cursor-pointer text-blue-500 hover:underline"},r(g.$t("Remove avatar")),1)])):y("",!0),t.data.avatar.hasFile?y("",!0):(a(),s("li",H0,[t.data.avatar.uploadcare.publicKey&&t.data.avatar.canUploadFile?(a(),D(ge,{key:0,"public-key":t.data.avatar.uploadcare.publicKey,"secure-signature":t.data.avatar.uploadcare.signature,"secure-expire":t.data.avatar.uploadcare.expire,tabs:"file","preview-step":!1,onSuccess:u,onError:g.onError},{default:P(()=>[e("span",W0,r(g.$t("Upload photo as avatar")),1)]),_:1},8,["public-key","secure-signature","secure-expire","onError"])):y("",!0)])),t.data.listed&&t.data.options.can_be_archived?(a(),s("li",J0,[e("span",{class:"cursor-pointer text-blue-500 hover:underline",onClick:w[1]||(w[1]=C=>x.value=!0)},r(g.$t("Archive contact")),1)])):y("",!0),t.data.listed?y("",!0):(a(),s("li",Q0,[e("span",{class:"cursor-pointer text-blue-500 hover:underline",onClick:w[2]||(w[2]=C=>x.value=!0)},r(g.$t("Unarchive contact")),1)])),e("li",Z0,[n(l(W),{href:t.data.url.update_template,class:"cursor-pointer text-blue-500 hover:underline"},{default:P(()=>[L(r(g.$t("Change template")),1)]),_:1},8,["href"])]),e("li",X0,[n(l(W),{href:t.data.url.move_contact,class:"cursor-pointer text-blue-500 hover:underline"},{default:P(()=>[L(r(g.$t("Move contact")),1)]),_:1},8,["href"])]),e("li",em,[n(l(W),{onClick:w[3]||(w[3]=z(C=>h(),["prevent"])),class:"cursor-pointer text-blue-500 hover:underline"},{default:P(()=>[L(r(g.$t("Download as vCard")),1)]),_:1})]),t.data.options.can_be_deleted?(a(),s("li",tm,[e("span",{class:"cursor-pointer text-blue-500 hover:underline",onClick:w[4]||(w[4]=C=>k.value=!0)},r(g.$t("Delete contact")),1)])):y("",!0)])]),e("div",am,[t.data.quick_fact_template_entries.templates.length>0?(a(),D(T0,{key:0,data:t.data.quick_fact_template_entries},null,8,["data"])):y("",!0),t.data.group_summary_information.length>0?(a(),s("div",sm,[e("div",om,[w[12]||(w[12]=e("img",{src:"/img/group.svg",class:"me-2 h-6 w-6"},null,-1)),e("ul",null,[e("li",rm,r(g.$t("Part of")),1),(a(!0),s(E,null,A(t.data.group_summary_information,C=>(a(),s("li",{key:C.id,class:"group-list-item me-2 inline"},[n(l(W),{href:C.url.show,class:"text-blue-500 hover:underline"},{default:P(()=>[L(r(C.name),1)]),_:2},1032,["href"])]))),128))])])])):y("",!0),e("div",lm,[e("div",dm,[(a(!0),s(E,null,A(t.data.template_pages,C=>(a(),s("div",{key:C.id,class:"me-2 flex-none"},[n(l(W),{href:C.url.show,class:U([C.selected?"border-orange-500 hover:border-orange-500":"border-transparent hover:border-gray-200 dark:hover:border-gray-700","inline-block border-b-2 px-2 pb-2"])},{default:P(()=>[e("span",nm,r(C.name),1)]),_:2},1032,["href","class"])]))),128))])]),e("div",im,[e("p",um,r(g.$t("Select a page")),1),G(e("select",{"onUpdate:modelValue":w[5]||(w[5]=C=>M.value=C),onChange:T,class:"w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-blue-500 focus:outline-hidden focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"},[(a(!0),s(E,null,A(t.data.template_pages,C=>(a(),s("option",{key:C.id,value:C.url.show},r(C.name),9,cm))),128))],544),[[me,M.value]])]),t.data.modules.length>0?(a(),s("div",mm,[(a(!0),s(E,null,A(t.data.modules,C=>(a(),s("div",{key:C.id},[C.type==="notes"?(a(),D(Pe,{key:0,data:C.data},null,8,["data"])):C.type==="reminders"?(a(),D(ms,{key:1,data:C.data},null,8,["data"])):C.type==="feed"?(a(),D(Ee,{key:2,url:C.data},null,8,["url"])):C.type==="loans"?(a(),D(_o,{key:3,data:C.data,"layout-data":t.layoutData},null,8,["data","layout-data"])):C.type==="relationships"?(a(),D(tr,{key:4,data:C.data},null,8,["data"])):C.type==="tasks"?(a(),D(Tr,{key:5,data:C.data},null,8,["data"])):C.type==="calls"?(a(),D(cd,{key:6,data:C.data},null,8,["data"])):C.type==="pets"?(a(),D(Kd,{key:7,data:C.data},null,8,["data"])):C.type==="goals"?(a(),D(vn,{key:8,data:C.data},null,8,["data"])):C.type==="addresses"?(a(),D(Ri,{key:9,data:C.data},null,8,["data"])):C.type==="groups"?(a(),D(uu,{key:10,data:C.data},null,8,["data"])):C.type==="contact_information"?(a(),D(Hu,{key:11,data:C.data},null,8,["data"])):C.type==="documents"?(a(),D(fc,{key:12,data:C.data},null,8,["data"])):C.type==="photos"?(a(),D(Lc,{key:13,data:C.data},null,8,["data"])):C.type==="posts"?(a(),D(l0,{key:14,data:C.data},null,8,["data"])):C.type==="life_events"?(a(),D(Ae,{key:15,data:C.data,"layout-data":t.layoutData},null,8,["data","layout-data"])):y("",!0)]))),128))])):y("",!0)])])]),n(ye,{show:k.value,onClose:w[7]||(w[7]=C=>k.value=!1)},{title:P(()=>[L(r(g.$t("Delete contact")),1)]),content:P(()=>[L(r(g.$t("Are you sure you would like to delete this contact? This will remove everything we know about this contact.")),1)]),footer:P(()=>[n(pe,{onClick:w[6]||(w[6]=C=>k.value=!1)},{default:P(()=>[L(r(g.$t("Cancel")),1)]),_:1}),n(Ve,{class:U(["ms-3",{"opacity-25":c.processing}]),disabled:c.processing,onClick:S},{default:P(()=>[L(r(g.$t("Delete")),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"]),n(Me,{show:x.value,onClose:w[9]||(w[9]=C=>x.value=!1)},{title:P(()=>[L(r(g.$t("Archive contact")),1)]),content:P(()=>[L(r(g.$t("Are you sure you would like to archive this contact?")),1)]),footer:P(()=>[n(pe,{onClick:w[8]||(w[8]=C=>x.value=!1)},{default:P(()=>[L(r(g.$t("Cancel")),1)]),_:1}),n(je,{class:U(["ms-3",{"opacity-25":V.processing}]),disabled:V.processing,onClick:I},{default:P(()=>[L(r(g.$t("Archive")),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])])]),_:1},8,["title","layout-data"]))}},Ym=O(bm,[["__scopeId","data-v-708a8dc3"]]);export{Ym as default};
