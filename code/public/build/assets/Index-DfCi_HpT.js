import{r as g,M as y,v as f,z as v,c as x,o as n,w as k,a as t,h as c,i,k as _,u as m,t as b,b as s}from"./app-CapNgXf-.js";import{_ as T}from"./Layout-BAHf2dOa.js";import{T as w}from"./TextInput-C8RADZPb.js";import V from"./Contact-Dbty_1Cy.js";import B from"./Note-ChYUFioY.js";import N from"./Group-Cy6eFsyZ.js";import{L as S}from"./Loading-8Lv-NX8l.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-jKXsEGte.js";const $={class:"relative sm:mt-24"},j={class:"mx-auto max-w-4xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},C={class:"section-head border-b border-gray-200 bg-blue-50 p-5 dark:border-gray-700 dark:bg-blue-900"},D={class:"text-center text-2xl font-medium"},M={class:"p-5"},O={key:0},q={key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 text-center text-gray-500 dark:border-gray-700 dark:bg-gray-900"},E={key:2,class:"mb-6 rounded-lg border border-gray-200 bg-white p-6 text-center text-gray-500 dark:border-gray-700 dark:bg-gray-900"},H={__name:"Index",props:{layoutData:Object,data:Object},setup(p){const h=p,o=g(!1),e=y({searchTerm:h.data.query||"",errors:[]}),r=g([]);f(()=>{l()});const l=v.debounce(()=>{e.searchTerm!==void 0&&e.searchTerm.length>=3?(o.value=!0,axios.post(h.data.url.search,e).then(a=>{r.value=a.data.data,o.value=!1}).catch(a=>{e.errors=a.response.data,o.value=!1})):r.value=[]},300);return(a,d)=>(n(),x(T,{"layout-data":p.layoutData,"inside-vault":!0},{default:k(()=>[t("main",$,[t("div",j,[t("form",{class:"mb-8 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:d[1]||(d[1]=_((...u)=>m(l)&&m(l)(...u),["prevent"]))},[t("div",C,[t("h1",D,b(a.$t("Search something in the vault")),1)]),t("div",M,[s(w,{ref:"searchField",modelValue:e.searchTerm,"onUpdate:modelValue":d[0]||(d[0]=u=>e.searchTerm=u),type:"text",autofocus:!0,"input-class":"block w-full",placeholder:a.$t("Type something"),required:!0,autocomplete:!1,maxlength:255,onKeyup:m(l)},null,8,["modelValue","placeholder","onKeyup"])])],32),!o.value&&Object.keys(r.value).length!==0?(n(),c("div",O,[s(V,{data:r.value.contacts},null,8,["data"]),s(N,{data:r.value.groups},null,8,["data"]),s(B,{data:r.value.notes},null,8,["data"])])):i("",!0),o.value?(n(),c("div",q,[s(S)])):i("",!0),e.searchTerm.length<3?(n(),c("div",E,[t("p",null,b(a.$t("Please enter at least 3 characters to initiate a search.")),1)])):i("",!0)])])]),_:1},8,["layout-data"]))}};export{H as default};
