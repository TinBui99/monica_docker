import{P as g}from"./PrettyButton-C7IwNjfl.js";import{P as k}from"./PrettyLink-C13tRubX.js";import{E as v}from"./Errors-ClHFmp7Z.js";import{_ as x}from"./Help-wDHwFJDe.js";import{L as i,h as n,o as a,a as t,i as m,c as w,b as d,t as l,k as F,F as M,j as C,n as u,x as D,ay as S}from"./app-CapNgXf-.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-jKXsEGte.js";import"./index-C2abvfVx.js";const E={components:{PrettyButton:g,PrettyLink:k,Errors:v,Help:x},props:{data:{type:Object,default:null}},data(){return{loadingState:"",editMode:!1,localDateFormat:"",localHumanDateFormat:"",form:{dateFormat:"",errors:[]}}},mounted(){this.localDateFormat=this.data.date_format,this.localHumanDateFormat=this.data.human_date_format,this.form.dateFormat=this.data.date_format},methods:{enableEditMode(){this.editMode=!0},submit(){this.loadingState="loading",axios.post(this.data.url.store,this.form).then(e=>{this.flash(this.$t("Changes saved"),"success"),this.localDateFormat=this.form.dateFormat,this.localHumanDateFormat=e.data.data.human_date_format,this.editMode=!1,this.loadingState=null}).catch(e=>{this.loadingState=null,this.form.errors=e.response.data})}}},H={class:"mb-16"},j={class:"mb-3 mt-8 items-center justify-between sm:mt-0 sm:flex"},P={class:"mb-4 flex font-semibold sm:mb-0"},V={class:"me-2"},L={class:"mb-6 flex rounded-xs border bg-slate-50 px-3 py-2 text-sm dark:border-gray-700 dark:bg-slate-900"},N={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},$={class:"px-5 py-2"},z={class:"mb-2 block"},O={class:"mb-2 block rounded-xs bg-slate-100 px-5 py-2 text-sm dark:bg-slate-900"},R={class:"border-b border-gray-200 px-5 py-2 dark:border-gray-700"},U=["id","value"],Y=["for"],q={class:"flex justify-between p-5"};function A(e,o,h,G,s,p){const b=i("help"),c=i("pretty-button"),f=i("errors"),_=i("pretty-link");return a(),n("div",H,[t("div",j,[t("h3",P,[o[3]||(o[3]=t("span",{class:"me-1"}," ðŸ—“ ",-1)),t("span",V,l(e.$t("How should we display dates")),1),d(b,{url:e.$page.props.help_links.settings_preferences_date,top:"5px"},null,8,["url"])]),s.editMode?m("",!0):(a(),w(c,{key:0,text:e.$t("Edit"),onClick:p.enableEditMode},null,8,["text","onClick"]))]),t("div",L,[o[4]||(o[4]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 pe-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("div",null,[t("p",null,l(e.$t("You can choose how you want Monica to display dates in the application.")),1)])]),s.editMode?m("",!0):(a(),n("div",N,[t("p",$,[t("span",z,l(e.$t("Current way of displaying dates:")),1),t("span",O,l(s.localHumanDateFormat),1)])])),s.editMode?(a(),n("form",{key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:o[2]||(o[2]=F(r=>p.submit(),["prevent"]))},[t("div",R,[d(f,{errors:s.form.errors},null,8,["errors"]),(a(!0),n(M,null,C(h.data.dates,r=>(a(),n("div",{key:r.id,class:"mb-2 flex items-center"},[D(t("input",{id:"input"+r.id,"onUpdate:modelValue":o[0]||(o[0]=y=>s.form.dateFormat=y),value:r.format,name:"date-format",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,8,U),[[S,s.form.dateFormat]]),t("label",{for:"input"+r.id,class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},l(r.value),9,Y)]))),128))]),t("div",q,[d(_,{text:e.$t("Cancel"),class:u("me-3"),onClick:o[1]||(o[1]=r=>s.editMode=!1)},null,8,["text"]),d(c,{text:e.$t("Save"),state:s.loadingState,icon:"check",class:u("save")},null,8,["text","state"])])],32)):m("",!0)])}const tt=B(E,[["render",A]]);export{tt as default};
