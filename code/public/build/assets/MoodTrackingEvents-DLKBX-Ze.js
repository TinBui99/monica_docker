import{r as m,e as P,h as r,o as l,a as t,i as n,b as i,d as k,u as d,t as u,k as T,F as E,j,w,V as H,aD as N,n as _,l as R,x as U,ay as Y}from"./app-CapNgXf-.js";import{D as B}from"./style-CRI3Zb-U.js";import{P as I}from"./PrettySpan-CCXc1kgI.js";import{T as q}from"./TextArea-Bj3iknHw.js";import{P as $}from"./PrettyButton-C7IwNjfl.js";import{T as z}from"./TextInput-C8RADZPb.js";import{E as A}from"./Errors-ClHFmp7Z.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as O}from"./createLucideIcon-jKXsEGte.js";/**
 * @license lucide-vue-next v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=O("cloud-sun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]),G={class:"mb-10"},J={class:"mb-3 flex items-center gap-2 border-b border-gray-200 pb-1 font-medium dark:border-gray-700"},K={key:0,class:"mb-4 flex items-center rounded-lg border border-gray-200 bg-white p-3 dark:border-gray-700 dark:bg-gray-900"},Q=["alt"],W={class:"mb-2 flex flex-col px-5"},X={class:"mb-2"},ee={class:"border-b border-gray-200 p-5 dark:border-gray-700"},te={key:0,class:"p-5"},se={class:"mb-2 block text-sm dark:text-gray-100"},ae={class:"mb-4"},oe=["id","value"],re=["for"],le={class:"flex"},de={key:1},ne={class:"mb-2 mt-2 block text-sm dark:text-gray-100"},ue=["value"],ie={key:2,class:"mt-4"},me={key:3,class:"mt-4"},ce={class:"flex justify-between p-5"},pe={key:2,class:"mb-4 flex items-center rounded-lg border border-gray-200 bg-white p-3 dark:border-gray-700 dark:bg-gray-900"},be=["alt"],he={class:"flex flex-col px-5"},ge={class:"mb-2"},ke={__name:"MoodTrackingEvents",props:{data:Object},setup(x){const f=x,p=m(""),c=m(!1),b=m(!1),h=m(!1),g=m(!1),v=m(!1),V=m({modelValue:"YYYY-MM-DD"}),a=P({parameter_id:0,date:f.data.current_date,hours:null,note:null}),M=()=>{b.value=!1,h.value=!1,g.value=!1,c.value=!0,a.note="",a.hours=null},S=()=>{b.value=!0},C=()=>{h.value=!0},D=()=>{g.value=!0},F=()=>{p.value="loading",axios.post(f.data.url.store,a).then(()=>{c.value=!1,v.value=!0,p.value=null}).catch(e=>{p.value=null,a.errors=e.response.data})};return(e,o)=>(l(),r("div",G,[t("h3",J,[i(d(Z),{class:"h-4 w-4"}),k(" "+u(e.$t("Record your mood")),1)]),!c.value&&!v.value?(l(),r("div",K,[t("img",{src:"/img/dashboard_blank_how_are_you.svg",alt:e.$t("Reminders"),class:"me-2 h-14 w-14"},null,8,Q),t("div",W,[t("p",X,u(e.$t("How are you?")),1),i($,{text:e.$t("Record your mood"),onClick:M},null,8,["text"])])])):n("",!0),c.value?(l(),r("form",{key:1,class:"mb-6 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900",onSubmit:o[5]||(o[5]=T(s=>F(),["prevent"]))},[t("div",ee,[d(a).errors.length>0?(l(),r("div",te,[i(A,{errors:d(a).errors},null,8,["errors"])])):n("",!0),t("p",se,u(e.$t("How do you feel right now?")),1),t("ul",ae,[(l(!0),r(E,null,j(f.data.mood_tracking_parameters,s=>(l(),r("li",{key:s.id,class:"flex"},[U(t("input",{id:"input"+s.id,"onUpdate:modelValue":o[0]||(o[0]=y=>d(a).parameter_id=y),value:s.id,name:"date-format",type:"radio",class:"relative me-3 h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,8,oe),[[Y,d(a).parameter_id]]),t("label",{for:"input"+s.id,class:"block cursor-pointer font-medium text-gray-700 dark:text-gray-300"},[t("div",{class:_(["me-2 inline-block h-4 w-4 rounded-full",s.hex_color])},null,2),k(" "+u(s.label),1)],8,re)]))),128))]),t("div",le,[b.value?n("",!0):(l(),r("span",{key:0,class:"me-2 flex cursor-pointer flex-wrap rounded-lg border bg-slate-200 px-1 py-1 text-sm hover:bg-slate-300 dark:bg-slate-500 dark:text-white",onClick:S},u(e.$t("+ change date")),1)),h.value?n("",!0):(l(),r("span",{key:1,class:"me-2 flex cursor-pointer flex-wrap rounded-lg border bg-slate-200 px-1 py-1 text-sm hover:bg-slate-300 dark:bg-slate-500 dark:text-white",onClick:C},u(e.$t("+ note")),1)),g.value?n("",!0):(l(),r("span",{key:2,class:"me-2 flex cursor-pointer flex-wrap rounded-lg border bg-slate-200 px-1 py-1 text-sm hover:bg-slate-300 dark:bg-slate-500 dark:text-white",onClick:D},u(e.$t("+ number of hours slept")),1))]),b.value?(l(),r("div",de,[t("p",ne,u(e.$t("Change date")),1),i(d(B),{modelValue:d(a).date,"onUpdate:modelValue":o[1]||(o[1]=s=>d(a).date=s),modelModifiers:{string:!0},timezone:"UTC",class:"inline-block h-full",masks:V.value,locale:e.$page.props.auth.user?.locale_ietf,"is-dark":e.isDark()},{default:w(({inputValue:s,inputEvents:y})=>[t("input",H({class:"rounded-xs border bg-white px-2 py-1 dark:bg-gray-900",value:s},N(y,!0)),null,16,ue)]),_:1},8,["modelValue","masks","locale","is-dark"])])):n("",!0),h.value?(l(),r("div",ie,[i(q,{modelValue:d(a).note,"onUpdate:modelValue":o[2]||(o[2]=s=>d(a).note=s),label:e.$t("Add a note"),maxlength:65535,"textarea-class":"block w-full"},null,8,["modelValue","label"])])):n("",!0),g.value?(l(),r("div",me,[i(z,{modelValue:d(a).hours,"onUpdate:modelValue":o[3]||(o[3]=s=>d(a).hours=s),label:e.$t("Number of hours slept"),autofocus:!0,"input-class":"block w-full",type:"number",min:0,max:24,required:!1,autocomplete:!1},null,8,["modelValue","label"])])):n("",!0)]),t("div",ce,[i(I,{text:e.$t("Cancel"),class:_("me-3"),onClick:o[4]||(o[4]=s=>c.value=!1)},null,8,["text"]),i($,{text:e.$t("Save"),state:p.value,icon:"plus",class:_("save")},null,8,["text","state"])])],32)):n("",!0),v.value?(l(),r("div",pe,[t("img",{src:"/img/dashboard_blank_how_are_you.svg",alt:e.$t("Reminders"),class:"me-2 h-14 w-14"},null,8,be),t("div",he,[t("p",ge,[o[6]||(o[6]=t("span",{class:"me-1"},"ðŸŽ‰",-1)),k(" "+u(e.$t("Your mood has been recorded!")),1)]),i(d(R),{href:x.data.url.history,class:"text-center text-blue-500 hover:underline"},{default:w(()=>[k(u(e.$t("View history")),1)]),_:1},8,["href"])])])):n("",!0)]))}},Se=L(ke,[["__scopeId","data-v-84838314"]]);export{Se as default};
