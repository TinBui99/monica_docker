import{P as k}from"./PrettyButton-C7IwNjfl.js";import{P as v}from"./PrettyLink-C13tRubX.js";import{E as x}from"./Errors-ClHFmp7Z.js";import{_ as M}from"./Help-wDHwFJDe.js";import{L as i,h as n,o as a,a as t,i as c,c as w,b as l,t as d,k as F,F as C,j as N,n as p,x as S,ay as E}from"./app-CapNgXf-.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-jKXsEGte.js";import"./index-C2abvfVx.js";const V={components:{PrettyButton:k,PrettyLink:v,Errors:x,Help:M},props:{data:{type:Object,default:null}},data(){return{loadingState:"",editMode:!1,localNumberFormat:"",form:{numberFormat:"",errors:[]}}},computed:{currentFormat(){let e=_.findIndex(this.data.numbers,r=>r.value===this.localNumberFormat);return e>=0?this.data.numbers[e].format:""}},mounted(){this.localNumberFormat=this.data.number_format,this.form.numberFormat=this.data.number_format},methods:{enableEditMode(){this.editMode=!0},submit(){this.loadingState="loading",axios.post(this.data.url.store,this.form).then(()=>{this.flash(this.$t("Changes saved"),"success"),this.localNumberFormat=this.form.numberFormat,this.editMode=!1,this.loadingState=null}).catch(e=>{this.loadingState=null,this.form.errors=e.response.data})}}},j={class:"mb-16"},P={class:"mb-3 mt-8 items-center justify-between sm:mt-0 sm:flex"},L={class:"mb-4 flex font-semibold sm:mb-0"},D={class:"me-2"},H={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},I={class:"px-5 py-2"},U={class:"mb-2 block"},$={class:"mb-2 block rounded-xs bg-slate-100 px-5 py-2 text-sm dark:bg-slate-900"},z={class:"border-b border-gray-200 px-5 py-2 dark:border-gray-700"},O=["id","onUpdate:modelValue","value"],R=["for"],q={class:"flex justify-between p-5"};function A(e,r,b,G,s,m){const f=i("help"),u=i("pretty-button"),h=i("errors"),y=i("pretty-link");return a(),n("div",j,[t("div",P,[t("h3",L,[r[2]||(r[2]=t("span",{class:"me-1"}," ðŸ’µ ",-1)),t("span",D,d(e.$t("How should we display numerical values")),1),l(f,{url:e.$page.props.help_links.settings_preferences_numerical_format,top:"5px"},null,8,["url"])]),s.editMode?c("",!0):(a(),w(u,{key:0,text:e.$t("Edit"),onClick:m.enableEditMode},null,8,["text","onClick"]))]),s.editMode?c("",!0):(a(),n("div",H,[t("p",I,[t("span",U,d(e.$t("Current way of displaying numbers:")),1),t("span",$,d(m.currentFormat),1)])])),s.editMode?(a(),n("form",{key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:r[1]||(r[1]=F(o=>m.submit(),["prevent"]))},[t("div",z,[l(h,{errors:s.form.errors},null,8,["errors"]),(a(!0),n(C,null,N(b.data.numbers,o=>(a(),n("div",{key:o.id,class:"mb-2 flex items-center"},[S(t("input",{id:"input"+o.id,"onUpdate:modelValue":g=>s.form.numberFormat=g,value:o.value,name:"date-format",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,8,O),[[E,s.form.numberFormat]]),t("label",{for:"input"+o.id,class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},d(o.format),9,R)]))),128))]),t("div",q,[l(y,{text:e.$t("Cancel"),class:p("me-3"),onClick:r[0]||(r[0]=o=>s.editMode=!1)},null,8,["text"]),l(u,{text:e.$t("Save"),state:s.loadingState,icon:"check",class:p("save")},null,8,["text","state"])])],32)):c("",!0)])}const ee=B(V,[["render",A],["__scopeId","data-v-77c0edab"]]);export{ee as default};
