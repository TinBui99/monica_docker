import{P as y}from"./PrettyButton-C7IwNjfl.js";import{P as g}from"./PrettyLink-C13tRubX.js";import{E as k}from"./Errors-ClHFmp7Z.js";import{_ as x}from"./Help-wDHwFJDe.js";import{L as n,h as l,o as a,a as t,i as c,c as v,b as d,t as m,k as F,F as M,j as w,n as u,x as D,ay as C}from"./app-CapNgXf-.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-jKXsEGte.js";import"./index-C2abvfVx.js";const E={components:{PrettyButton:y,PrettyLink:g,Errors:k,Help:x},props:{data:{type:Object,default:null}},data(){return{loadingState:"",editMode:!1,localDistanceFormat:"",form:{distanceFormat:"",errors:[]}}},computed:{distance(){return this.localeDistance(this.localDistanceFormat)}},mounted(){this.localDistanceFormat=this.data.number_format,this.form.distanceFormat=this.data.number_format},methods:{localeDistance(e){return e==="mi"?this.$t("miles (mi)"):this.$t("kilometers (km)")},enableEditMode(){this.editMode=!0},submit(){this.loadingState="loading",axios.post(this.data.url.store,this.form).then(()=>{this.flash(this.$t("Changes saved"),"success"),this.localDistanceFormat=this.form.distanceFormat,this.editMode=!1,this.loadingState=null}).catch(e=>{this.loadingState=null,this.form.errors=e.response.data})}}},B={class:"mb-16"},j={class:"mb-3 mt-8 items-center justify-between sm:mt-0 sm:flex"},P={class:"mb-4 flex font-semibold sm:mb-0"},V={class:"me-2"},$={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},L={class:"px-5 py-2"},N={class:"mb-2 block"},H={class:"mb-2 block rounded-xs bg-slate-100 px-5 py-2 text-sm dark:bg-slate-900"},z={class:"border-b border-gray-200 px-5 py-2 dark:border-gray-700"},O=["id","value"],R=["for"],U={class:"flex justify-between p-5"};function q(e,s,A,G,o,i){const b=n("help"),p=n("pretty-button"),f=n("errors"),h=n("pretty-link");return a(),l("div",B,[t("div",j,[t("h3",P,[s[3]||(s[3]=t("span",{class:"me-1"}," ✈️ ",-1)),t("span",V,m(e.$t("How should we display distance values")),1),d(b,{url:e.$page.props.help_links.settings_preferences_numerical_format,top:"5px"},null,8,["url"])]),o.editMode?c("",!0):(a(),v(p,{key:0,text:e.$t("Edit"),onClick:i.enableEditMode},null,8,["text","onClick"]))]),o.editMode?c("",!0):(a(),l("div",$,[t("p",L,[t("span",N,m(e.$t("Current way of displaying distances:")),1),t("span",H,m(i.distance),1)])])),o.editMode?(a(),l("form",{key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",onSubmit:s[2]||(s[2]=F(r=>i.submit(),["prevent"]))},[t("div",z,[d(f,{errors:o.form.errors},null,8,["errors"]),(a(),l(M,null,w(["km","mi"],r=>t("div",{key:r,class:"mb-2 mt-2 flex items-center"},[D(t("input",{id:r,"onUpdate:modelValue":s[0]||(s[0]=_=>o.form.distanceFormat=_),value:r,name:"distance-format",type:"radio",class:"h-4 w-4 border-gray-300 text-sky-500 dark:border-gray-700"},null,8,O),[[C,o.form.distanceFormat]]),t("label",{for:r,class:"ms-3 block cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300"},m(i.localeDistance(r)),9,R)])),64))]),t("div",U,[d(h,{text:e.$t("Cancel"),class:u("me-3"),onClick:s[1]||(s[1]=r=>o.editMode=!1)},null,8,["text"]),d(p,{text:e.$t("Save"),state:o.loadingState,icon:"check",class:u("save")},null,8,["text","state"])])],32)):c("",!0)])}const Z=S(E,[["render",q]]);export{Z as default};
