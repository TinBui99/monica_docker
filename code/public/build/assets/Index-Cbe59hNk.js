import{r as m,B as w,c as h,o,w as p,a as e,t as r,b as f,u as $,l as C,d as b,i as c,h as i,F as E,j as N,D,m as y,p as v}from"./app-CapNgXf-.js";import{_ as V}from"./Layout-BAHf2dOa.js";import{P}from"./PrettyButton-C7IwNjfl.js";import j from"./CreateOrEditImportantDate-C2sOTRSJ.js";import{E as O}from"./Errors-ClHFmp7Z.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-jKXsEGte.js";import"./style-CRI3Zb-U.js";import"./PrettySpan-CCXc1kgI.js";import"./TextInput-C8RADZPb.js";import"./Dropdown-C6O7kLlt.js";const L={class:"bg-white dark:bg-gray-900 sm:mt-20 sm:border-b"},R={class:"max-w-8xl mx-auto hidden px-4 py-2 sm:px-6 md:block"},U={class:"flex items-baseline justify-between space-x-6"},Y={class:"text-sm"},q={class:"me-2 inline text-gray-600 dark:text-gray-400"},z={class:"me-2 inline"},G={class:"me-2 inline"},H={class:"inline"},J={class:"relative sm:mt-20"},K={class:"mx-auto max-w-3xl px-2 py-2 sm:px-6 sm:py-6 lg:px-8"},Q={class:"mb-6 mt-8 items-center justify-between sm:mt-0 sm:flex"},W={class:"mb-4 sm:mb-0"},X={key:1},Z={key:0,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},ee={key:0,class:"flex items-center justify-between px-5 py-2"},te={class:"text-base"},se={class:"font-medium"},ae={key:0,class:"ms-2 inline-block rounded-xs bg-neutral-200 px-1 py-0 text-xs text-neutral-500 last:me-0"},oe={class:"text-sm"},re=["onClick"],le={class:"text-blue-500 hover:underline"},ne=["onClick"],ie={key:1,class:"mb-6 rounded-lg border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900"},de={class:"p-5 text-center"},ce={__name:"Index",props:{layoutData:Object,data:Object},setup(l){const B=l,u=m(0),d=m(!1),n=m(B.data.dates),k=w("createForm"),x=w("editForm"),_=m(null),F=()=>{d.value=!0,D().then(()=>k.value.reset())},T=t=>{u.value=t.id,D().then(()=>x.value[0].reset())},I=t=>{y(v("The date has been added"),"success"),n.value.unshift(t),d.value=!1},A=t=>{y(v("The date has been updated"),"success"),n.value[n.value.findIndex(s=>s.id===t.id)]=t,u.value=0},M=t=>{confirm(v("Are you sure? This action cannot be undone."))&&axios.delete(t.url.destroy).then(()=>{y(v("The date has been deleted"),"success");let s=n.value.findIndex(a=>a.id===t.id);n.value.splice(s,1)}).catch(s=>{_.value=s.response.data})};return(t,s)=>(o(),h(V,{"layout-data":l.layoutData,"inside-vault":!0},{default:p(()=>[e("nav",L,[e("div",R,[e("div",U,[e("ul",Y,[e("li",q,r(t.$t("You are here:")),1),e("li",z,[f($(C),{href:l.layoutData.vault.url.contacts,class:"text-blue-500 hover:underline"},{default:p(()=>[b(r(t.$t("Contacts")),1)]),_:1},8,["href"])]),s[2]||(s[2]=e("li",{class:"relative me-2 inline"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("li",G,[f($(C),{href:l.data.url.contact,class:"text-blue-500 hover:underline"},{default:p(()=>[b(r(t.$t("Profile of :name",{name:l.data.contact.name})),1)]),_:1},8,["href"])]),s[3]||(s[3]=e("li",{class:"relative me-2 inline"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon-breadcrumb relative inline h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("li",H,r(t.$t("All the important dates")),1)])])])]),e("main",J,[e("div",K,[e("div",Q,[e("h3",W,[s[4]||(s[4]=e("span",{class:"me-1"}," ðŸ—“ ",-1)),b(" "+r(t.$t("All the important dates")),1)]),d.value?c("",!0):(o(),h(P,{key:0,text:t.$t("Add a date"),icon:"plus",onClick:F},null,8,["text"]))]),f(O,{errors:_.value},null,8,["errors"]),d.value?(o(),h(j,{key:0,class:"mb-6",ref_key:"createForm",ref:k,data:l.data,onClose:s[0]||(s[0]=a=>d.value=!1),onCreated:I},null,8,["data"])):c("",!0),d.value?c("",!0):(o(),i("div",X,[n.value.length>0?(o(),i("ul",Z,[(o(!0),i(E,null,N(n.value,a=>(o(),i("li",{key:a.id,class:"item-list border-b border-gray-200 hover:bg-slate-50 dark:border-gray-700 dark:bg-slate-900 dark:hover:bg-slate-800"},[u.value===0?(o(),i("div",ee,[e("span",te,[b(r(a.label)+": ",1),e("span",se,r(a.date),1),a.type?(o(),i("span",ae,r(a.type.label),1)):c("",!0)]),e("ul",oe,[e("li",{class:"me-4 inline cursor-pointer",onClick:g=>T(a)},[e("span",le,r(t.$t("Edit")),1)],8,re),e("li",{class:"inline cursor-pointer text-red-500 hover:text-red-900",onClick:g=>M(a)},r(t.$t("Delete")),9,ne)])])):c("",!0),u.value===a.id?(o(),h(j,{key:1,ref_for:!0,ref_key:"editForm",ref:x,date:a,data:l.data,onClose:s[1]||(s[1]=g=>u.value=0),"onUpdate:date":A},null,8,["date","data"])):c("",!0)]))),128))])):(o(),i("div",ie,[e("p",de,r(t.$t("Add an important date to remember what matters to you about this person, like a birthdate or a deceased date.")),1)]))]))])])]),_:1},8,["layout-data"]))}},ge=S(ce,[["__scopeId","data-v-48509aa5"]]);export{ge as default};
