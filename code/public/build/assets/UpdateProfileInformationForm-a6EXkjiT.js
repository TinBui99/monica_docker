import{e as B,r as C,B as N,c as b,o as v,w as l,b as a,u as o,d as i,t as u,n as F,h as R,i as $,a as r,x as y,I as P,J as j,k,q as D}from"./app-CapNgXf-.js";import{_ as T}from"./Button-CeJKJvkU.js";import{_ as z}from"./FormSection-BwO_IaZ9.js";import{_ as h}from"./Input-DBW5TJZF.js";import{_ as d}from"./InputError-BapgdLlk.js";import{_ as f}from"./Label-WzmNYhjC.js";import{_ as A}from"./ActionMessage-DWfp09e1.js";import{_ as w}from"./SecondaryButton-LDZ02WBB.js";import"./SectionTitle-yCtI3_Xi.js";import"./PrettyButton-C7IwNjfl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-jKXsEGte.js";const E={key:0,class:"col-span-6 sm:col-span-4"},L={class:"mt-2"},q=["src","alt"],J={class:"mt-2"},M={class:"col-span-6 mb-4 sm:col-span-4"},O={class:"col-span-6 mb-4 sm:col-span-4"},G={class:"col-span-6 mb-4 sm:col-span-4"},te={__name:"UpdateProfileInformationForm",props:{user:Object},setup(p){const _=p,e=B({_method:"PUT",first_name:_.user.first_name,last_name:_.user.last_name,email:_.user.email,photo:null}),c=C(null),n=N("photoInput"),V=()=>{n.value&&(e.photo=n.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>g()})},S=()=>{n.value.click()},I=()=>{const s=n.value.files[0];if(!s)return;const t=new FileReader;t.onload=m=>{c.value=m.target.result},t.readAsDataURL(s)},U=()=>{D.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{c.value=null,g()}})},g=()=>{n.value?.value&&(n.value.value=null)};return(s,t)=>(v(),b(z,{onSubmitted:V},{title:l(()=>[i(u(s.$t("Profile Information")),1)]),description:l(()=>[i(u(s.$t("Update your account's profile information and email address.")),1)]),form:l(()=>[s.$page.props.jetstream.managesProfilePhotos?(v(),R("div",E,[r("input",{ref_key:"photoInput",ref:n,type:"file",class:"hidden",onChange:I},null,544),a(f,{for:"photo",":value":s.$t("Photo")},null,8,[":value"]),y(r("div",L,[r("img",{src:p.user.profile_photo_url,alt:p.user.name,class:"h-20 w-20 rounded-full object-cover"},null,8,q)],512),[[P,!c.value]]),y(r("div",J,[r("span",{class:"block h-20 w-20 rounded-full bg-cover bg-center bg-no-repeat",style:j("background-image: url('"+c.value+"');")},null,4)],512),[[P,c.value]]),a(w,{class:"me-2 mt-2",type:"button",onClick:k(S,["prevent"])},{default:l(()=>[i(u(s.$t("Select A New Photo")),1)]),_:1}),p.user.profile_photo_path?(v(),b(w,{key:0,type:"button",class:"mt-2",onClick:k(U,["prevent"])},{default:l(()=>[i(u(s.$t("Remove Photo")),1)]),_:1})):$("",!0),a(d,{message:o(e).errors.photo,class:"mt-2"},null,8,["message"])])):$("",!0),r("div",M,[a(f,{for:"first_name",value:s.$t("First name")},null,8,["value"]),a(h,{id:"first_name",modelValue:o(e).first_name,"onUpdate:modelValue":t[0]||(t[0]=m=>o(e).first_name=m),type:"text",class:"mt-1 block w-full",autocomplete:"firstname"},null,8,["modelValue"]),a(d,{message:o(e).errors.first_name,class:"mt-2"},null,8,["message"])]),r("div",O,[a(f,{for:"last_name",value:s.$t("Last name")},null,8,["value"]),a(h,{id:"last_name",modelValue:o(e).last_name,"onUpdate:modelValue":t[1]||(t[1]=m=>o(e).last_name=m),type:"text",class:"mt-1 block w-full",autocomplete:"lastname"},null,8,["modelValue"]),a(d,{message:o(e).errors.last_name,class:"mt-2"},null,8,["message"])]),r("div",G,[a(f,{for:"email",value:s.$t("Email")},null,8,["value"]),a(h,{id:"email",modelValue:o(e).email,"onUpdate:modelValue":t[2]||(t[2]=m=>o(e).email=m),type:"email",class:"mt-1 block w-full",autocomplete:"email"},null,8,["modelValue"]),a(d,{message:o(e).errors.email,class:"mt-2"},null,8,["message"])])]),actions:l(()=>[a(A,{on:o(e).recentlySuccessful,class:"me-3"},{default:l(()=>[i(u(s.$t("Saved.")),1)]),_:1},8,["on"]),a(T,{class:F({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:l(()=>[i(u(s.$t("Save")),1)]),_:1},8,["class","disabled"])]),_:1}))}};export{te as default};
